/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","@grafana/runtime","react","@grafana/ui","@emotion/css","redux","react-redux","react-dom"],((e,t,n,r,o,i,a,l)=>(()=>{"use strict";var s={644:e=>{e.exports=o},305:t=>{t.exports=e},545:e=>{e.exports=t},388:e=>{e.exports=r},650:e=>{e.exports=n},729:e=>{e.exports=l},929:e=>{e.exports=a},129:e=>{e.exports=i}},u={};function d(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={exports:{}};return s[e](n,n.exports,d),n.exports}d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};return(()=>{d.r(c),d.d(c,{plugin:()=>Ka});var e=d(305),t=d(545),n=d(650),r=d.n(n);function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var l=d(129),s=d(929);function u(e,t){var r=(0,n.useState)((function(){return{inputs:t,result:e()}}))[0],o=(0,n.useRef)(!0),i=(0,n.useRef)(r),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return(0,n.useEffect)((function(){o.current=!1,i.current=a}),[a]),a.result}var g=u,p=function(e,t){return u((function(){return e}),t)},f=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},m=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},v=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},b={top:0,right:0,bottom:0,left:0},h=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?b:n,o=e.border,i=void 0===o?b:o,a=e.padding,l=void 0===a?b:a,s=f(m(t,r)),u=f(v(t,i)),d=f(v(u,l));return{marginBox:s,borderBox:f(t),paddingBox:u,contentBox:d,margin:r,border:i,padding:l}},y=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&function(e,t){throw new Error("Invariant failed")}(),n},w=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,l=e.padding,s=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return h({borderBox:s,border:i,margin:a,padding:l})},C=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),w(e,t)},S=function(e,t){var n={top:y(t.marginTop),right:y(t.marginRight),bottom:y(t.marginBottom),left:y(t.marginLeft)},r={top:y(t.paddingTop),right:y(t.paddingRight),bottom:y(t.paddingBottom),left:y(t.paddingLeft)},o={top:y(t.borderTopWidth),right:y(t.borderRightWidth),bottom:y(t.borderBottomWidth),left:y(t.borderLeftWidth)};return h({borderBox:e,margin:n,padding:r,border:o})},x=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return S(t,n)},I=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function E(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!((r=e[n])===(o=t[n])||I(r)&&I(o)))return!1;var r,o;return!0}const R=function(e,t){var n;void 0===t&&(t=E);var r,o=[],i=!1;return function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}},D=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var O=d(729),A=d.n(O);function P(e,t){}function M(){}function F(e,t,n){var r=t.map((function(t){var r,o,i=(r=n,o=t.options,a({},r,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){r.forEach((function(e){e()}))}}P.bind(null,"warn"),P.bind(null,"error");var B=!0,N="Invariant failed";function T(e){this.message=e}function L(e,t){if(!e)throw new T(B?N:N+": "+(t||""))}T.prototype.toString=function(){return this.message};var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=M,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof T&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}i(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=F(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof T))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(r().Component),k=function(e){return e+1},G=function(e,t){var n=e.droppableId===t.droppableId,r=k(e.index),o=k(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},V=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},H=function(e){return"\n  The item has returned to its starting position\n  of "+k(e.index)+"\n"},j=function(e){return"\n  You have lifted an item in position "+k(e.source.index)+"\n"},z=function(e){var t=e.destination;if(t)return G(e.source,t);var n=e.combine;return n?V(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},U=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+H(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+G(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+V(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+H(e.source)+"\n  "},W={x:0,y:0},$=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},q=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},X=function(e,t){return e.x===t.x&&e.y===t.y},Y=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},K=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},J=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Q=function(e,t){return Math.min.apply(Math,t.map((function(t){return J(e,t)})))},Z=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},ee=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},te=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},ne=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=f({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):f(e)},re=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t){return t?ee(e,t.scroll.diff.displacement):e}(t.marginBox,o),l=function(e,t,n){var r;return n&&n.increasedBy?a({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(i,r,n);return{page:t,withPlaceholder:n,active:ne(l,o)}},oe=function(e,t){e.frame||L(!1);var n=e.frame,r=q(t,n.scroll.initial),o=Y(r),i=a({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}});return a({},e,{frame:i,subject:re({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function ie(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function ae(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function le(e,t){if(e.find)return e.find(t);var n=ae(e,t);return-1!==n?e[n]:void 0}function se(e){return Array.prototype.slice.call(e)}var ue=R((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),de=R((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),ce=R((function(e){return ie(e)})),ge=R((function(e){return ie(e)})),pe=R((function(e,t){var n=ge(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function fe(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function me(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ve=R((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),be=function(e,t){return e.descriptor.droppableId===t.descriptor.id},he={point:W,value:0},ye={invisible:{},visible:{},all:[]},we={displaced:ye,displacedBy:he,at:null},Ce=function(e,t){return function(n){return e<=n&&n<=t}},Se=function(e){var t=Ce(e.top,e.bottom),n=Ce(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,l=r.left<e.left&&r.right>e.right;return!(!a||!l)||a&&i||l&&o}},xe=function(e){var t=Ce(e.top,e.bottom),n=Ce(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Ie={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ee={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Re=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:W;return ee(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},De=function(e){return Re(a({},e,{isVisibleThroughFrameFn:Se}))},Oe=function(e){return Re(a({},e,{isVisibleThroughFrameFn:xe}))},Ae=function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate};function Pe(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return f(m(n,r))}(t,r),s=t.descriptor.id;if(e.all.push(s),!De({target:l,destination:n,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var u={draggableId:s,shouldAnimate:Ae(s,a,i)};return e.visible[s]=u,e}),{all:[],visible:{},invisible:{}})}function Me(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:ye,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function Fe(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,l=e.index,s=e.forceShouldAnimate,u=be(t,r);if(null==l)return Me({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var d=le(n,(function(e){return e.descriptor.index===l}));if(!d)return Me({insideDestination:n,inHomeList:u,displacedBy:i,destination:r});var c=ve(t,n),g=n.indexOf(d);return{displaced:Pe({afterDragging:c.slice(g),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:s}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Be(e,t){return Boolean(t.effected[e])}var Ne=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Te=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Le=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return K(t.line,n.marginBox[t.end]+Ne(t,r),Te(t,n.marginBox,r))},_e=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return K(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Te(t,n.marginBox,r))},ke=function(e,t){var n=e.frame;return n?$(t,n.scroll.diff.displacement):t},Ge=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,l=t.at;return r&&l?"REORDER"===l.type?function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=pe(o.descriptor.id,r),l=n.page,s=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return K(t.line,n.contentBox[t.start]+Ne(t,r),Te(t,n.contentBox,r))}({axis:s,moveInto:o.page,isMoving:l});var u=t.displaced,d=t.displacedBy,c=u.all[0];if(c){var g=r[c];if(Be(c,i))return _e({axis:s,moveRelativeTo:g.page,isMoving:l});var p=w(g.page,d.point);return _e({axis:s,moveRelativeTo:p,isMoving:l})}var f=a[a.length-1];if(f.descriptor.id===n.descriptor.id)return l.borderBox.center;if(Be(f.descriptor.id,i)){var m=w(f.page,Y(i.displacedBy.point));return Le({axis:s,moveRelativeTo:m,isMoving:l})}return Le({axis:s,moveRelativeTo:f.page,isMoving:l})}({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=me(n);o||L(!1);var i=o.draggableId,a=r[i].page.borderBox.center,l=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return Be(r,n)?i?W:Y(o.point):i?o.point:W}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return $(a,l)}({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?ke(n,t):t},Ve=function(e,t){var n=q(t,e.scroll.initial),r=Y(n);return{frame:f({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function He(e,t){return e.map((function(e){return t[e]}))}var je=function(e){var t,n,r=e.pageBorderBoxCenter,o=e.draggable,i=(t=e.viewport,n=r,$(t.scroll.diff.displacement,n)),a=q(i,o.page.borderBox.center);return $(o.client.borderBox.center,a)},ze=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,l=e.onlyOnMainAxis,s=void 0!==l&&l,u=q(r,t.page.borderBox.center),d={target:ee(t.page.borderBox,u),destination:n,withDroppableDisplacement:i,viewport:o};return s?function(e){return Re(a({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=Ce(e.top,e.bottom),r=Ce(e.left,e.right);return function(e){return t===Ie?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(d):Oe(d)},Ue=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,l=e.viewport,s=e.previousPageBorderBoxCenter,u=e.previousClientSelection,d=e.afterCritical;if(!r.isEnabled)return null;var c=pe(r.descriptor.id,o),g=be(n,r),p=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!fe(i))return null;function l(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return a({},i,{at:t})}var s=i.displaced.all,u=s.length?s[0]:null;if(t)return u?l(u):null;var d=ve(n,o);if(!u)return d.length?l(d[d.length-1].descriptor.id):null;var c=ae(d,(function(e){return e.descriptor.id===u}));-1===c&&L(!1);var g=c-1;return g<0?null:l(d[g].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:i})||function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,l=e.previousImpact,s=e.viewport,u=e.afterCritical,d=l.at;if(d||L(!1),"REORDER"===d.type){var c=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,l=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return a<l||a>(n?s:s+1)?null:a}({isMovingForward:t,isInHomeList:n,location:d.destination,insideDestination:a});return null==c?null:Fe({draggable:r,insideDestination:a,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:c})}var g=function(e){var t=e.isMovingForward,n=e.draggables,r=e.combine,o=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var i=r.draggableId,a=n[i].descriptor.index;return Be(i,o)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:i,displaced:l.displaced,draggables:o,combine:d.combine,afterCritical:u});return null==g?null:Fe({draggable:r,insideDestination:a,destination:i,viewport:s,last:l.displaced,displacedBy:l.displacedBy,index:g})}({isMovingForward:t,isInHomeList:g,draggable:n,draggables:o,destination:r,insideDestination:c,previousImpact:i,viewport:l,afterCritical:d});if(!p)return null;var f=Ge({impact:p,draggable:n,droppable:r,draggables:o,afterCritical:d});if(ze({draggable:n,destination:r,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:je({pageBorderBoxCenter:f,draggable:n,viewport:l}),impact:p,scrollJumpRequest:null};var m=q(f,s),v=function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,l=Ve(n,$(n.scroll.current,i)),s=r.frame?oe(r,$(r.frame.scroll.current,i)):r,u=t.displaced,d=Pe({afterDragging:He(u.all,o),destination:r,displacedBy:t.displacedBy,viewport:l.frame,last:u,forceShouldAnimate:!1}),c=Pe({afterDragging:He(u.all,o),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:u,forceShouldAnimate:!1}),g={},p={},f=[u,d,c];return u.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,f);t?p[e]=t:g[e]=!0})),a({},t,{displaced:{all:u.all,invisible:g,visible:p}})}({impact:p,viewport:l,destination:r,draggables:o,maxScrollChange:m});return{clientSelection:u,impact:v,scrollJumpRequest:m}},We=function(e){var t=e.subject.active;return t||L(!1),t},$e=function(e,t){var n=e.page.borderBox.center;return Be(e.descriptor.id,t)?q(n,t.displacedBy.point):n},qe=function(e,t){var n=e.page.borderBox;return Be(e.descriptor.id,t)?ee(n,Y(t.displacedBy.point)):n},Xe=R((function(e,t){var n=t[e.line];return{value:n,point:K(e.line,n)}})),Ye=function(e,t){return a({},e,{scroll:a({},e.scroll,{max:t})})},Ke=function(e,t,n){var r=e.frame;be(t,e)&&L(!1),e.subject.withPlaceholder&&L(!1);var o=Xe(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return K(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=pe(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:K(r.line,i)}(e,o,n),l={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r)return a({},e,{subject:re({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame})});var s=i?$(r.scroll.max,i):r.scroll.max,u=Ye(r,s);return a({},e,{subject:re({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:u}),frame:u})},Je=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Qe=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Je(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,l=a.axis.direction,s="vertical"===l&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===l&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(s&&!o)return null;var u="MOVE_DOWN"===n||"MOVE_RIGHT"===n,d=t.dimensions.draggables[t.critical.draggable.id],c=t.current.page.borderBoxCenter,g=t.dimensions,p=g.draggables,f=g.droppables;return s?Ue({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:d,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,l=e.viewport,s=e.afterCritical,u=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var l=r.axis,s=Ce(a[l.start],a[l.end]),u=ce(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Se(i.frame)(We(e))})).filter((function(e){var n=We(e);return t?a[l.crossAxisEnd]<n[l.crossAxisEnd]:n[l.crossAxisStart]<a[l.crossAxisStart]})).filter((function(e){var t=We(e),n=Ce(t[l.start],t[l.end]);return s(t[l.start])||s(t[l.end])||n(a[l.start])||n(a[l.end])})).sort((function(e,n){var r=We(e)[l.crossAxisStart],o=We(n)[l.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return We(e)[l.crossAxisStart]===We(n[0])[l.crossAxisStart]}));if(!u.length)return null;if(1===u.length)return u[0];var d=u.filter((function(e){return Ce(We(e)[l.start],We(e)[l.end])(n[l.line])}));return 1===d.length?d[0]:d.length>1?d.sort((function(e,t){return We(e)[l.start]-We(t)[l.start]}))[0]:u.sort((function(e,t){var r=Q(n,te(We(e))),o=Q(n,te(We(t)));return r!==o?r-o:We(e)[l.start]-We(t)[l.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:l});if(!u)return null;var d=pe(u.descriptor.id,i),c=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.afterCritical,i=e.insideDestination.filter((function(e){return Oe({target:qe(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=J(t,ke(r,$e(e,o))),a=J(t,ke(r,$e(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return i[0]||null}({pageBorderBoxCenter:n,viewport:l,destination:u,insideDestination:d,afterCritical:s}),g=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,l=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var u={displaced:ye,displacedBy:he,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},d=Ge({impact:u,draggable:o,droppable:a,draggables:i,afterCritical:s}),c=be(o,a)?a:Ke(a,o,i);return ze({draggable:o,destination:c,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}var g,p=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),f=(g=n.descriptor.index,n.descriptor.id===o.descriptor.id||p?g:g+1);return Fe({draggable:o,insideDestination:r,destination:a,viewport:l,displacedBy:Xe(a.axis,o.displaceBy),last:ye,index:f})}({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:i,moveRelativeTo:c,insideDestination:d,viewport:l,afterCritical:s});if(!g)return null;var p=Ge({impact:g,draggable:r,droppable:u,draggables:i,afterCritical:s});return{clientSelection:je({pageBorderBoxCenter:p,draggable:r,viewport:l}),impact:g,scrollJumpRequest:null}}({isMovingForward:u,previousPageBorderBoxCenter:c,draggable:d,isOver:a,draggables:p,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function Ze(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function et(e){var t=Ce(e.top,e.bottom),n=Ce(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}var tt=function(e,t){return f(ee(e,t))};function nt(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var rt=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,l=e.afterCritical,s=tt(n.page.borderBox,t),u=function(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=ce(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(et(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],l=t[i.crossAxisStart],s=t[i.crossAxisEnd],u=Ce(o[i.crossAxisStart],o[i.crossAxisEnd]),d=u(l),c=u(s);return!d&&!c||(d?l<a:s>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.candidates,r=e.draggable.page.borderBox.center,o=n.map((function(e){var n=e.axis,o=K(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:J(r,o)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}({pageBorderBox:s,draggable:n,droppables:o});if(!u)return we;var d=o[u],c=pe(d.descriptor.id,r),g=function(e,t){var n=e.frame;return n?tt(t,n.scroll.diff.value):t}(d,s);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var l=o.axis,s=Xe(o.axis,t.displaceBy),u=s.value,d=n[l.start],c=n[l.end],g=le(ve(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[l.size]/4,i=Be(t,a),s=nt({displaced:r.displaced,id:t});return i?s?c>n[l.start]+o&&c<n[l.end]-o:d>n[l.start]-u+o&&d<n[l.end]-u-o:s?c>n[l.start]+u+o&&c<n[l.end]+u-o:d>n[l.start]+o&&d<n[l.end]-o}));return g?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:g,draggable:n,previousImpact:i,destination:d,insideDestination:c,afterCritical:l})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,l=e.afterCritical,s=r.axis,u=Xe(r.axis,n.displaceBy),d=u.value,c=t[s.start],g=t[s.end],p=function(e){var t=e.draggable,n=e.closest;return n?e.inHomeList&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:le(ve(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=Be(t,l),o=nt({displaced:i,id:t});return r?o?g<=n:c<n-d:o?g<=n+d:c<n})),inHomeList:be(n,r)});return Fe({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:u,index:p})}({pageBorderBoxWithDroppableScroll:g,draggable:n,destination:d,insideDestination:c,last:i.displaced,viewport:a,afterCritical:l})},ot=function(e,t){var n;return a({},e,((n={})[t.descriptor.id]=t,n))},it=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,l=e.scrollJumpRequest,s=o||t.viewport,u=r||t.dimensions,d=n||t.current.client.selection,c=q(d,t.initial.client.selection),g={offset:c,selection:d,borderBoxCenter:$(t.initial.client.borderBoxCenter,c)},p={selection:$(g.selection,s.scroll.current),borderBoxCenter:$(g.borderBoxCenter,s.scroll.current),offset:$(g.offset,s.scroll.diff.value)},f={client:g,page:p};if("COLLECTING"===t.phase)return a({phase:"COLLECTING"},t,{dimensions:u,viewport:s,current:f});var m=u.draggables[t.critical.draggable.id],v=i||rt({pageOffset:p.offset,draggable:m,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),b=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.impact,i=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=Je(t),i=Je(n);if(!o)return r;if(o===i)return r;var l=r[o];if(!l.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||L(!1);var n=e.frame;if(!n)return a({},e,{subject:re({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var r=t.oldFrameMaxScroll;r||L(!1);var o=Ye(n,r);return a({},e,{subject:re({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(l);return ot(r,s)}({previousImpact:e.previousImpact,impact:o,droppables:r}),l=Je(o);if(!l)return i;var s=r[l];if(be(t,s))return i;if(s.subject.withPlaceholder)return i;var u=Ke(s,t,n);return ot(i,u)}({draggable:m,impact:v,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables});return a({},t,{current:f,dimensions:{draggables:u.draggables,droppables:b},impact:v,viewport:s,scrollJumpRequest:l||null,forceShouldAnimate:!l&&null})},at=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,l=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(l.all,r);return a({},t,{displaced:Pe({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:l})})},lt=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,l=Ge({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return je({pageBorderBoxCenter:l,draggable:n,viewport:i})},st=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&L(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,l=a.draggables,s=a.droppables,u=l[t.critical.draggable.id],d=Je(o);d||L(!1);var c=s[d],g=at({impact:o,viewport:i,destination:c,draggables:l}),p=lt({impact:g,draggable:u,droppable:c,draggables:l,viewport:i,afterCritical:t.afterCritical});return it({impact:g,clientSelection:p,state:t,dimensions:a,viewport:i})},ut=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=Xe(n.axis,t.displaceBy),a=pe(n.descriptor.id,r),l=a.indexOf(t);-1===l&&L(!1);var s,u=a.slice(l+1),d=u.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),c={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:d};return{impact:{displaced:Pe({afterDragging:u,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(s=t.descriptor,{index:s.index,droppableId:s.droppableId})}},afterCritical:c}},dt=function(e){return"SNAP"===e.movementMode},ct=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:ot(e.droppables,t)}}(e.dimensions,t);return!dt(e)||n?it({state:e,dimensions:r}):st({state:e,dimensions:r})};function gt(e){return e.isDragging&&"SNAP"===e.movementMode?a({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var pt={phase:"IDLE",completed:null,shouldFlush:!1},ft=function(e,t){if(void 0===e&&(e=pt),"FLUSH"===t.type)return a({},pt,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&L(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,l=n.dimensions,s=n.movementMode,u=l.draggables[r.draggable.id],d=l.droppables[r.droppable.id],c={selection:o,borderBoxCenter:u.client.borderBox.center,offset:W},g={client:c,page:{selection:$(c.selection,i.scroll.initial),borderBoxCenter:$(c.selection,i.scroll.initial),offset:$(c.selection,i.scroll.diff.value)}},p=ce(l.droppables).every((function(e){return!e.isFixedOnPage})),f=ut({draggable:u,home:d,draggables:l.draggables,viewport:i}),m=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:l,initial:g,current:g,isWindowScrollAllowed:p,impact:m,afterCritical:f.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&L(!1),a({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&L(!1),function(e){var t=e.state,n=e.published,r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return oe(n,e.scroll)})),o=a({},t.dimensions.droppables,{},ue(r)),i=de(function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||L(!1),t}(n[t]),l=i.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=w(t.client,n),i=C(o,r);return a({},t,{placeholder:a({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:$(o,l),initialWindowScroll:r.scroll.initial});return s}))}({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),l=a({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete l[e]}));var s={droppables:o,draggables:l},u=Je(t.impact),d=u?s.droppables[u]:null,c=s.draggables[t.critical.draggable.id],g=s.droppables[t.critical.droppable.id],p=ut({draggable:c,home:g,draggables:l,viewport:t.viewport}),f=p.impact,m=p.afterCritical,v=d&&d.isCombineEnabled?t.impact:f,b=rt({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:v,viewport:t.viewport,afterCritical:m}),h=a({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:f,dimensions:s,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?h:a({phase:"DROP_PENDING"},h,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Ze(e)||L(!1);var v=t.payload.client;return X(v,e.current.client.selection)?e:it({state:e,clientSelection:v,impact:dt(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return gt(e);if("COLLECTING"===e.phase)return gt(e);Ze(e)||L(!1);var b=t.payload,h=b.id,y=b.newScroll,S=e.dimensions.droppables[h];if(!S)return e;var x=oe(S,y);return ct(e,x,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ze(e)||L(!1);var I=t.payload,E=I.id,R=I.isEnabled,D=e.dimensions.droppables[E];D||L(!1),D.isEnabled===R&&L(!1);var O=a({},D,{isEnabled:R});return ct(e,O,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Ze(e)||L(!1);var A=t.payload,P=A.id,M=A.isCombineEnabled,F=e.dimensions.droppables[P];F||L(!1),F.isCombineEnabled===M&&L(!1);var B=a({},F,{isCombineEnabled:M});return ct(e,B,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Ze(e)||L(!1),e.isWindowScrollAllowed||L(!1);var N=t.payload.newScroll;if(X(e.viewport.scroll.current,N))return gt(e);var T=Ve(e.viewport,N);return dt(e)?st({state:e,viewport:T}):it({state:e,viewport:T})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Ze(e))return e;var _=t.payload.maxScroll;if(X(_,e.viewport.scroll.max))return e;var k=a({},e.viewport,{scroll:a({},e.viewport.scroll,{max:_})});return a({phase:"DRAGGING"},e,{viewport:k})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&L(!1);var G=Qe({state:e,type:t.type});return G?it({state:e,impact:G.impact,clientSelection:G.clientSelection,scrollJumpRequest:G.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var V=t.payload.reason;return"COLLECTING"!==e.phase&&L(!1),a({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:V})}if("DROP_ANIMATE"===t.type){var H=t.payload,j=H.completed,z=H.dropDuration,U=H.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&L(!1),{phase:"DROP_ANIMATING",completed:j,dropDuration:z,newHomeClientOffset:U,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},mt=function(e){return{type:"LIFT",payload:e}},vt=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},bt=function(){return{type:"COLLECTION_STARTING",payload:null}},ht=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},yt=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},wt=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Ct=function(e){return{type:"MOVE",payload:e}},St=function(){return{type:"MOVE_UP",payload:null}},xt=function(){return{type:"MOVE_DOWN",payload:null}},It=function(){return{type:"MOVE_RIGHT",payload:null}},Et=function(){return{type:"MOVE_LEFT",payload:null}},Rt=function(){return{type:"FLUSH",payload:null}},Dt=function(e){return{type:"DROP_COMPLETE",payload:e}},Ot=function(e){return{type:"DROP",payload:e}},At="cubic-bezier(.2,1,.1,1)",Pt=0,Mt=.7,Ft=.75,Bt="0.2s cubic-bezier(0.2, 0, 0, 1)",Nt={fluid:"opacity "+Bt,snap:"transform "+Bt+", opacity "+Bt,drop:function(e){var t=e+"s "+At;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Bt,placeholder:"height "+Bt+", width "+Bt+", margin "+Bt},Tt=function(e){return X(e,W)?null:"translate("+e.x+"px, "+e.y+"px)"},Lt=Tt,_t=function(e,t){var n=Tt(e);return n?t?n+" scale("+Ft+")":n:null},kt=.33,Gt=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&L(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&L(!1);var l=o.critical,s=o.dimensions,u=s.draggables[o.critical.draggable.id],d=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,l=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:a({},r,{displaced:ye}),didDropInsideDroppable:!0}:{impact:at({draggables:t,impact:l,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),c=d.impact,g=d.didDropInsideDroppable,p=g?fe(c):null,f=g?me(c):null,m={index:l.draggable.index,droppableId:l.droppable.id},v={draggableId:u.descriptor.id,type:u.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:p,combine:f},b=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,l=r.droppables,s=Je(t),u=s?l[s]:null,d=l[n.descriptor.droppableId],c=lt({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:u||d,viewport:o});return q(c,n.client.borderBox.center)}({impact:c,draggable:u,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),h={critical:o.critical,afterCritical:o.afterCritical,result:v,impact:c};if(!X(o.current.client.offset,b)||Boolean(v.combine)){var y=function(e){var t=e.reason,n=J(e.current,e.destination);if(n<=0)return kt;if(n>=1500)return.55;var r=kt+n/1500*.22000000000000003;return Number(("CANCEL"===t?.6*r:r).toFixed(2))}({current:o.current.client.offset,destination:b,reason:i});n({type:"DROP_ANIMATE",payload:{newHomeClientOffset:b,dropDuration:y,completed:h}})}else n(Dt({completed:h}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},Vt=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var Ht=function(e){var t=function(e){var t=e.onWindowScroll,n=D((function(){t(Vt())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),o=M;function i(){return o!==M}return{start:function(){i()&&L(!1),o=F(window,[r])},stop:function(){i()||L(!1),n.cancel(),o(),o=M},isActive:i}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},jt=function(e,t){t()},zt=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Ut=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},Wt=function(e,t){var n=function(e,t){var n,r=(n=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=ae(n,(function(t){return t.timerId===e}));-1===t&&L(!1),n.splice(t,1)[0].callback()}(t)})),r={timerId:t,callback:e};n.push(r)},flush:function(){if(n.length){var e=[].concat(n);n.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),o=null,i=function(n){o||L(!1),o=null,jt(0,(function(){return Ut(e().onDragEnd,n,t,U)}))};return{beforeCapture:function(t,n){o&&L(!1),jt(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){o&&L(!1),jt(0,(function(){var r=e().onBeforeDragStart;r&&r(zt(t,n))}))},start:function(n,i){o&&L(!1);var a=zt(n,i);o={mode:i,lastCritical:n,lastLocation:a.source,lastCombine:null},r.add((function(){jt(0,(function(){return Ut(e().onDragStart,a,t,j)}))}))},update:function(n,i){var l=fe(i),s=me(i);o||L(!1);var u=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(n,o.lastCritical);u&&(o.lastCritical=n);var d,c,g=(c=l,!(null==(d=o.lastLocation)&&null==c||null!=d&&null!=c&&d.droppableId===c.droppableId&&d.index===c.index));g&&(o.lastLocation=l);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(o.lastCombine,s);if(p&&(o.lastCombine=s),u||g||p){var f=a({},zt(n,o.mode),{combine:s,destination:l});r.add((function(){jt(0,(function(){return Ut(e().onDragUpdate,f,t,z)}))}))}},flush:function(){o||L(!1),r.flush()},drop:i,abort:function(){if(o){var e=a({},zt(o.lastCritical,o.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},$t=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&L(!1),e.dispatch(Dt({completed:r.completed}))}else t(n)}}},qt=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=F(window,[i])}))}}}},Xt=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Ot({reason:r.reason})))}}}},Yt=l.compose,Kt=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return(0,l.createStore)(ft,Yt((0,l.applyMiddleware)((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,l=i.clientSelection,s=i.movementMode,u=n();"DROP_ANIMATING"===u.phase&&r(Dt({completed:u.completed})),"IDLE"!==n().phase&&L(!1),r(Rt()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:s}});var d={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},c=e.startPublishing(d),g=c.critical,p=c.dimensions,f=c.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:g,dimensions:p,clientSelection:l,movementMode:s,viewport:f}})}else t(o)}}}}(n),Gt,$t,qt,Xt,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&L(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(s),Ht,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Wt(i,a))))},Jt=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=q({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Qt=function(){var e=document.documentElement;return e||L(!1),e},Zt=function(){var e=Qt();return Jt({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function en(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var tn,nn,rn=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null;var e=r,i=e.additions,a=e.removals,l=e.modified,s=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(W)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),u=Object.keys(l).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),d={additions:s,removals:Object.keys(a),modified:u};r={additions:{},removals:{},modified:{}},n.publish(d)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||L(!1);var o=n.critical.draggable;"ADDITION"===t.type&&en(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&en(e,o,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||L(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||L(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||L(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&L(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},l=e.subscribe(o);return n={critical:a,unsubscribe:l},function(e){var t,n,r,o,i,a,l,s=e.critical,u=e.scrollOptions,d=e.registry,c=(t=Vt(),n=Zt(),r=t.y,o=t.x,a=(i=Qt()).clientWidth,l=i.clientHeight,{frame:f({top:r,left:o,right:o+a,bottom:r+l}),scroll:{initial:t,current:t,max:n,diff:{value:W,displacement:W}}}),g=c.scroll.current,p=s.droppable,m=d.droppable.getAllByType(p.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(g,u)})),v=d.draggable.getAllByType(s.draggable.type).map((function(e){return e.getDimension(g)}));return{dimensions:{draggables:de(v),droppables:ue(m)},critical:s,viewport:c}}({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},on=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},an=function(e){window.scrollBy(e.x,e.y)},ln=R((function(e){return ce(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),sn=function(e){return Math.pow(e,2)},un=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},dn=360,cn=1200,gn=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var n=un({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=28*sn(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=cn,o=Date.now()-n;if(o>=cn)return e;if(o<dn)return 1;var i=un({startOfRange:dn,endOfRange:r,current:o}),a=e*sn(i);return Math.ceil(a)}(i,r),1):i},pn=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,o);return n[o.end]<n[o.start]?gn({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*gn({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},fn=Z((function(e){return 0===e?0:e})),mn=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},l=pn({container:n,distanceToEdges:a,dragStartTime:t,axis:Ie,shouldUseTimeDampening:i}),s=pn({container:n,distanceToEdges:a,dragStartTime:t,axis:Ee,shouldUseTimeDampening:i}),u=fn({x:s,y:l});if(X(u,W))return null;var d=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:u});return d?X(d,W)?null:d:null},vn=Z((function(e){return 0===e?0:e>0?1:-1})),bn=(tn=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=$(t,r),i={x:tn(o.x,n.x),y:tn(o.y,n.y)};return X(i,W)?null:i}),hn=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=vn(r),a=bn({max:o,current:n,change:i});return!a||0!==i.x&&0===a.x||0!==i.y&&0===a.y},yn=function(e,t){return hn({current:e.scroll.current,max:e.scroll.max,change:t})},wn=function(e,t){var n=e.frame;return!!n&&hn({current:n.scroll.current,max:n.scroll.max,change:t})},Cn=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var s=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.shouldUseTimeDampening,i=mn({dragStartTime:e.dragStartTime,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return i&&yn(t,i)?i:null}({dragStartTime:n,viewport:t.viewport,subject:l,center:a,shouldUseTimeDampening:r});if(s)return void o(s)}var u=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}var i=function(e,t){var n=le(ln(t),(function(t){return t.frame||L(!1),et(t.frame.pageMarginBox)(e)}));return n}(t,r);return i}({center:a,destination:Je(t.impact),droppables:t.dimensions.droppables});if(u){var d=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var l=mn({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return l&&wn(t,l)?l:null}({dragStartTime:n,droppable:u,subject:l,center:a,shouldUseTimeDampening:r});d&&i(u.descriptor.id,d)}},Sn=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow;return function(e){var o=e.scrollJumpRequest;if(o){var i=Je(e.impact);i||L(!1);var a=function(e,t){if(!wn(e,t))return t;var r=function(e,t){var n=e.frame;return n&&wn(e,t)?bn({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=q(t,r);return n(e.descriptor.id,o),q(t,o)}(e.dimensions.droppables[i],o);if(a){var l=e.viewport,s=function(e,t,n){if(!e)return n;if(!yn(t,n))return n;var o=function(e,t){if(!yn(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return bn({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=q(n,o);return r(i),q(n,i)}(e.isWindowScrollAllowed,l,a);s&&function(e,n){var r=$(e.current.client.selection,n);t({client:r})}(e,s)}}}},xn=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollDroppable,n=D(e.scrollWindow),r=D(t),o=null,i=function(e){o||L(!1);var t=o,i=t.shouldUseTimeDampening,a=t.dragStartTime;Cn({state:e,scrollWindow:n,scrollDroppable:r,dragStartTime:a,shouldUseTimeDampening:i})};return{start:function(e){o&&L(!1);var t=Date.now(),n=!1,r=function(){n=!0};Cn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},n&&i(e)},stop:function(){o&&(n.cancel(),r.cancel(),o=null)},scroll:i}}({scrollWindow:n,scrollDroppable:t}),i=Sn({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},In="data-rbd",En={base:nn=In+"-drag-handle",draggableId:nn+"-draggable-id",contextId:nn+"-context-id"},Rn=function(){var e=In+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Dn=function(){var e=In+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),On={contextId:In+"-scroll-container-context-id"},An=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Pn=function(e){var t,n,r,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(En.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+Nt.outOfTheWay+";\n    ",{selector:o(Rn.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:o(Dn.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:An(a,"always"),resting:An(a,"resting"),dragging:An(a,"dragging"),dropAnimating:An(a,"dropAnimating"),userCancel:An(a,"userCancel")}},Mn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,Fn=function(){var e=document.querySelector("head");return e||L(!1),e},Bn=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},Nn=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Tn(e){return e instanceof Nn(e).HTMLElement}function Ln(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||L(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return ie(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||L(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return ie(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var _n=r().createContext(null),kn=function(){var e=document.body;return e||L(!1),e},Gn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Vn=function(e){return"rbd-announcement-"+e},Hn=0,jn={separator:"::"};function zn(e,t){return void 0===t&&(t=jn),g((function(){return""+e+t.separator+Hn++}),[t.separator,e])}var Un=r().createContext(null);function Wn(e){var t=(0,n.useRef)(e);return(0,n.useEffect)((function(){t.current=e})),t}var $n,qn,Xn=(($n={})[13]=!0,$n[9]=!0,$n),Yn=function(e){Xn[e.keyCode]&&e.preventDefault()},Kn=function(){var e="visibilitychange";return"undefined"==typeof document?e:le([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),Jn={type:"IDLE"};function Qn(){}var Zn=((qn={})[34]=!0,qn[33]=!0,qn[36]=!0,qn[35]=!0,qn);var er={type:"IDLE"},tr={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function nr(e,t){if(null==t)return!1;if(Boolean(tr[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&nr(e,t.parentElement)}function rr(e,t){var n=t.target;return!!Tn(n)&&nr(e,n)}var or=function(e){return f(e.getBoundingClientRect()).center},ir=function(){var e="matches";return"undefined"==typeof document?e:le([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function ar(e,t){return null==e?null:e[ir](t)?e:ar(e.parentElement,t)}function lr(e,t){return e.closest?e.closest(t):ar(e,t)}function sr(e){e.preventDefault()}function ur(e){var t=e.expected,n=e.phase,r=e.isLockActive;return e.shouldWarn,!!r()&&t===n}function dr(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&!!i.options.isEnabled&&!!on(n.getState(),o)}var cr=[function(e){var t=(0,n.useRef)(Jn),r=(0,n.useRef)(M),o=g((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,l,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};r.current(),d(o,i)}}}}}}),[e]),i=g((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=p((function(){r.current=F(window,[i,o],{passive:!1,capture:!0})}),[i,o]),l=p((function(){"IDLE"!==t.current.type&&(t.current=Jn,r.current(),a())}),[a]),s=p((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=p((function(){var e=function(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},l=r();if("DRAGGING"===l.type)return e.preventDefault(),void l.actions.move(a);if("PENDING"!==l.type&&L(!1),s=l.point,u=a,Math.abs(u.x-s.x)>=5||Math.abs(u.y-s.y)>=5){var s,u;e.preventDefault();var d=l.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Yn(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&L(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Kn,fn:t}]}({cancel:s,completed:l,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});r.current=F(window,e,{capture:!0,passive:!1})}),[s,l]),d=p((function(e,n){"IDLE"!==t.current.type&&L(!1),t.current={type:"PENDING",point:n,actions:e},u()}),[u]);Mn((function(){return a(),function(){r.current()}}),[a])},function(e){var t=(0,n.useRef)(Qn),r=g((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var r=e.findClosestDraggableId(n);if(r){var i=e.tryGetLock(r,s,{sourceEvent:n});if(i){n.preventDefault();var a=!0,l=i.snapLift();t.current(),t.current=F(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(Zn[r.keyCode]?r.preventDefault():Yn(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Kn,fn:n}]}(l,s),{capture:!0,passive:!1})}}}function s(){a||L(!1),a=!1,t.current(),o()}}}}),[e]),o=p((function(){t.current=F(window,[r],{passive:!1,capture:!0})}),[r]);Mn((function(){return o(),function(){t.current()}}),[o])},function(e){var t=(0,n.useRef)(er),r=(0,n.useRef)(M),o=p((function(){return t.current}),[]),i=p((function(e){t.current=e}),[]),a=g((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var o=e.tryGetLock(n,s,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};r.current(),f(o,a)}}}}}}),[e]),l=p((function(){r.current=F(window,[a],{capture:!0,passive:!1})}),[a]),s=p((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(er),r.current(),l())}),[l,i]),u=p((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),d=p((function(){var e={capture:!0,passive:!1},t={cancel:u,completed:s,getPhase:o},n=F(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&L(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Kn,fn:t}]}(t),e),i=F(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Kn,fn:t}]}(t),e);r.current=function(){n(),i()}}),[u,o,s]),c=p((function(){var e=o();"PENDING"!==e.type&&L(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),f=p((function(e,t){"IDLE"!==o().type&&L(!1);var n=setTimeout(c,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()}),[d,o,i,c]);Mn((function(){return l(),function(){r.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(er))}}),[o,l,i]),Mn((function(){return F(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function gr(e){var t=e.contextId,r=e.store,o=e.registry,i=e.customSensors,l=e.enableDefaultSensors,s=[].concat(l?cr:[],i||[]),u=(0,n.useState)((function(){return function(){var e=null;function t(){e||L(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&L(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],d=p((function(e,t){e.isDragging&&!t.isDragging&&u.tryAbandon()}),[u]);Mn((function(){var e=r.getState();return r.subscribe((function(){var t=r.getState();d(e,t),e=t}))}),[u,r,d]),Mn((function(){return u.tryAbandon}),[u.tryAbandon]);for(var c=p((function(e){return dr({lockAPI:u,registry:o,store:r,draggableId:e})}),[u,o,r]),f=p((function(e,n,i){return function(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,l=e.forceSensorStop,s=e.sourceEvent;if(!dr({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var u=o.draggable.getById(i),d=function(e,t){var n="["+Rn.contextId+'="'+e+'"]',r=le(se(document.querySelectorAll(n)),(function(e){return e.getAttribute(Rn.id)===t}));return r&&Tn(r)?r:null}(n,u.descriptor.id);if(!d)return null;if(s&&!u.options.canDragInteractiveElements&&rr(d,s))return null;var c=t.claim(l||M),g="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function f(){return t.isActive(c)}var m=function(e,t){ur({expected:e,phase:g,isLockActive:f,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),g="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=F(window,[{eventName:"click",fn:sr,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(Ot({reason:t}))}return"PRE_DRAG"!==g&&(n(),"PRE_DRAG"!==g&&L(!1)),r.dispatch(mt(e.liftActionArgs)),g="DRAGGING",a({isActive:function(){return ur({expected:"DRAGGING",phase:g,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return ur({expected:"PRE_DRAG",phase:g,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=D((function(e){m((function(){return Ct({client:e})}))}));return a({},v({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return m(St)},moveRight:function(){return m(It)},moveDown:function(){return m(xt)},moveLeft:function(){return m(Et)}};return v({liftActionArgs:{id:i,clientSelection:or(d),movementMode:"SNAP"},cleanup:M,actions:e})},abort:function(){ur({expected:"PRE_DRAG",phase:g,isLockActive:f,shouldWarn:!0})&&t.release()}}}({lockAPI:u,registry:o,contextId:t,store:r,draggableId:e,forceSensorStop:n,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,u,o,r]),m=p((function(e){return function(e,t){var n=function(e,t){var n,r=t.target;if(!((n=r)instanceof Nn(n).Element))return null;var o=function(e){return"["+En.contextId+'="'+e+'"]'}(e),i=lr(r,o);return i&&Tn(i)?i:null}(e,t);return n?n.getAttribute(En.draggableId):null}(t,e)}),[t]),v=p((function(e){var t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),b=p((function(){u.isClaimed()&&(u.tryAbandon(),"IDLE"!==r.getState().phase&&r.dispatch(Rt()))}),[u,r]),h=p(u.isClaimed,[u]),y=g((function(){return{canGetLock:c,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:v,tryReleaseLock:b,isLockClaimed:h}}),[c,f,m,v,b,h]),w=0;w<s.length;w++)s[w](y)}var pr=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function fr(e){return e.current||L(!1),e.current}function mr(e){var t=e.contextId,o=e.setCallbacks,i=e.sensors,u=e.nonce,d=e.dragHandleUsageInstructions,c=(0,n.useRef)(null),f=Wn(e),m=p((function(){return pr(f.current)}),[f]),v=function(e){var t=g((function(){return Vn(e)}),[e]),r=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),a(e.style,Gn),kn().appendChild(e),function(){setTimeout((function(){var t=kn();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)}))}}),[t]),p((function(e){var t=r.current;t&&(t.textContent=e)}),[])}(t),b=function(e){var t=e.contextId,r=e.text,o=zn("hidden-text",{separator:"-"}),i=g((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:o}).contextId+"-"+e.uniqueId;var e}),[o,t]);return(0,n.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=r,e.style.display="none",kn().appendChild(e),function(){var t=kn();t.contains(e)&&t.removeChild(e)}}),[i,r]),i}({contextId:t,text:d}),h=function(e,t){var r=g((function(){return Pn(e)}),[e]),o=(0,n.useRef)(null),i=(0,n.useRef)(null),a=p(R((function(e){var t=i.current;t||L(!1),t.textContent=e})),[]),l=p((function(e){var t=o.current;t||L(!1),t.textContent=e}),[]);Mn((function(){(o.current||i.current)&&L(!1);var n=Bn(t),s=Bn(t);return o.current=n,i.current=s,n.setAttribute(In+"-always",e),s.setAttribute(In+"-dynamic",e),Fn().appendChild(n),Fn().appendChild(s),l(r.always),a(r.resting),function(){var e=function(e){var t=e.current;t||L(!1),Fn().removeChild(t),e.current=null};e(o),e(i)}}),[t,l,a,r.always,r.resting,e]);var s=p((function(){return a(r.dragging)}),[a,r.dragging]),u=p((function(e){a("DROP"!==e?r.userCancel:r.dropAnimating)}),[a,r.dropAnimating,r.userCancel]),d=p((function(){i.current&&a(r.resting)}),[a,r.resting]);return g((function(){return{dragging:s,dropping:u,resting:d}}),[s,u,d])}(t,u),y=p((function(e){fr(c).dispatch(e)}),[]),w=g((function(){return(0,l.bindActionCreators)({publishWhileDragging:vt,updateDroppableScroll:ht,updateDroppableIsEnabled:yt,updateDroppableIsCombineEnabled:wt,collectionStarting:bt},y)}),[y]),C=function(){var e=g(Ln,[]);return(0,n.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),S=g((function(){return rn(C,w)}),[C,w]),x=g((function(){return xn(a({scrollWindow:an,scrollDroppable:S.scrollDroppable},(0,l.bindActionCreators)({move:Ct},y)))}),[S.scrollDroppable,y]),I=function(e){var t=(0,n.useRef)({}),r=(0,n.useRef)(null),o=(0,n.useRef)(null),i=(0,n.useRef)(!1),a=p((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),l=p((function(t){var n=function(e,t){var n="["+En.contextId+'="'+e+'"]',r=se(document.querySelectorAll(n));if(!r.length)return null;var o=le(r,(function(e){return e.getAttribute(En.draggableId)===t}));return o&&Tn(o)?o:null}(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),s=p((function(e,t){r.current===e&&(r.current=t)}),[]),u=p((function(){o.current||i.current&&(o.current=requestAnimationFrame((function(){o.current=null;var e=r.current;e&&l(e)})))}),[l]),d=p((function(e){r.current=null;var t=document.activeElement;t&&t.getAttribute(En.draggableId)===e&&(r.current=e)}),[]);return Mn((function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}}),[]),g((function(){return{register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:s}}),[a,d,u,s])}(t),E=g((function(){return Kt({announce:v,autoScroller:x,dimensionMarshal:S,focusMarshal:I,getResponders:m,styleMarshal:h})}),[v,x,S,I,m,h]);c.current=E;var D=p((function(){var e=fr(c);"IDLE"!==e.getState().phase&&e.dispatch(Rt())}),[]),O=p((function(){var e=fr(c).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);o(g((function(){return{isDragging:O,tryAbort:D}}),[O,D]));var A=p((function(e){return on(fr(c).getState(),e)}),[]),P=p((function(){return Ze(fr(c).getState())}),[]),M=g((function(){return{marshal:S,focus:I,contextId:t,canLift:A,isMovementAllowed:P,dragHandleUsageInstructionsId:b,registry:C}}),[t,S,b,I,A,P,C]);return gr({contextId:t,store:E,registry:C,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,n.useEffect)((function(){return D}),[D]),r().createElement(Un.Provider,{value:M},r().createElement(s.Provider,{context:_n,store:E},e.children))}var vr=0;function br(e){var t=g((function(){return""+vr++}),[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return r().createElement(_,null,(function(o){return r().createElement(mr,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var hr=function(e){return function(t){return e===t}},yr=hr("scroll"),wr=hr("auto"),Cr=(hr("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Sr=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Cr(n,yr)||Cr(n,wr)}(t)?t:e(t.parentElement)},xr=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ir=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Er={passive:!1},Rr={passive:!0},Dr=function(e){return e.shouldPublishImmediately?Er:Rr};function Or(e){var t=(0,n.useContext)(e);return t||L(!1),t}var Ar=function(e){return e&&e.env.closestScrollable||null};function Pr(){}var Mr={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Fr=r().memo((function(e){var t=(0,n.useRef)(null),o=p((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),i=e.animate,a=e.onTransitionEnd,l=e.onClose,s=e.contextId,u=(0,n.useState)("open"===e.animate),d=u[0],c=u[1];(0,n.useEffect)((function(){return d?"open"!==i?(o(),c(!1),Pr):t.current?Pr:(t.current=setTimeout((function(){t.current=null,c(!1)})),o):Pr}),[i,d,o]);var g=p((function(e){"height"===e.propertyName&&(a(),"close"===i&&l())}),[i,l,a]),f=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?Mr:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Nt.placeholder:null}}({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return r().createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":s,onTransitionEnd:g,ref:e.innerRef})})),Br=r().createContext(null),Nr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return i(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(r().PureComponent),Tr=5e3,Lr=4500,_r=function(e,t){return t?Nt.drop(t.duration):e?Nt.snap:Nt.fluid},kr=function(e,t){return e?t?Pt:Mt:null};function Gr(e){e.preventDefault()}var Vr=function(e,t){return e===t},Hr=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function jr(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var zr={mapped:{type:"SECONDARY",offset:W,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:jr(null)}},Ur={dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},Wr=(0,s.connect)((function(){var e,t,n,r=(e=R((function(e,t){return{x:e,y:t}})),t=R((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=R((function(e,n,r,o,i,a,l){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:l,snapshot:t(n,o,i,a,null)}}})),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],l=Je(r.impact),s=(d=r.impact).at&&"COMBINE"===d.at.type?d.at.combine.draggableId:null,u=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,l,s,u)}var d;if("DROP_ANIMATING"===r.phase){var c=r.completed;if(c.result.draggableId!==o.draggableId)return null;var g=o.isClone,p=r.dimensions.draggables[o.draggableId],f=c.result,m=f.mode,v=Hr(f),b=function(e){return e.combine?e.combine.draggableId:null}(f),h={duration:r.dropDuration,curve:At,moveTo:r.newHomeClientOffset,opacity:b?Pt:null,scale:b?Ft:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:p,dropping:h,draggingOver:v,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,g,v,b,h)}}}return null}),o=function(){var e=R((function(e,t){return{x:e,y:t}})),t=R(jr),n=R((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(W,e,!0):null},o=function(t,o,i,a){var l=i.displaced.visible[t],s=Boolean(a.inVirtualList&&a.effected[t]),u=me(i),d=u&&u.draggableId===t?o:null;if(!l){if(!s)return r(d);if(i.displaced.invisible[t])return null;var c=Y(a.displacedBy.point),g=e(c.x,c.y);return n(g,d,!0)}if(s)return r(d);var p=i.displacedBy.point,f=e(p.x,p.y);return n(f,d,l.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||zr}}),Ur,null,{context:_n,pure:!0,areStatePropsEqual:Vr})((function(e){var t=(0,n.useRef)(null),r=p((function(e){t.current=e}),[]),o=p((function(){return t.current}),[]),i=Or(Un),a=i.contextId,l=i.dragHandleUsageInstructionsId,s=i.registry,u=Or(Br),d=u.type,c=u.droppableId,f=g((function(){return{id:e.draggableId,index:e.index,type:d,droppableId:c}}),[e.draggableId,e.index,d,c]),m=e.children,v=e.draggableId,b=e.isEnabled,h=e.shouldRespectForcePress,y=e.canDragInteractiveElements,w=e.isClone,x=e.mapped,I=e.dropAnimationFinished;w||function(e){var t=zn("draggable"),r=e.descriptor,o=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,l=e.shouldRespectForcePress,s=e.isEnabled,u=g((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:l,isEnabled:s}}),[a,s,l]),d=p((function(e){var t=i();return t||L(!1),function(e,t,n){void 0===n&&(n=W);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=S(o,r),a=C(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(r,t,e)}),[r,i]),c=g((function(){return{uniqueId:t,descriptor:r,options:u,getDimension:d}}),[r,d,u,t]),f=(0,n.useRef)(c),m=(0,n.useRef)(!0);Mn((function(){return o.draggable.register(f.current),function(){return o.draggable.unregister(f.current)}}),[o.draggable]),Mn((function(){if(m.current)m.current=!1;else{var e=f.current;f.current=c,o.draggable.update(c,e)}}),[c,o.draggable])}(g((function(){return{descriptor:f,registry:s,getDraggableRef:o,canDragInteractiveElements:y,shouldRespectForcePress:h,isEnabled:b}}),[f,s,o,y,h,b]));var E=g((function(){return b?{tabIndex:0,role:"button","aria-describedby":l,"data-rbd-drag-handle-draggable-id":v,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:Gr}:null}),[a,l,v,b]),R=p((function(e){"DRAGGING"===x.type&&x.dropping&&"transform"===e.propertyName&&I()}),[I,x]),D=g((function(){var e=function(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,o=e.dropping,i=Boolean(r),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),l=Boolean(o),s=l?_t(n,i):Lt(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:_r(a,o),transform:s,opacity:kr(i,l),zIndex:l?Lr:Tr,pointerEvents:"none"}}(e):{transform:Lt((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}(x),t="DRAGGING"===x.type&&x.dropping?R:null;return{innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":v,style:e,onTransitionEnd:t},dragHandleProps:E}}),[a,E,v,x,R,r]),O=g((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return m(D,x.snapshot,O)}));function $r(e){return Or(Br).isUsingCloneFor!==e.draggableId||e.isClone?r().createElement(Wr,e):null}function qr(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),o=Boolean(e.shouldRespectForcePress);return r().createElement($r,a({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:o}))}var Xr=function(e,t){return e===t.droppable.type},Yr=function(e,t){return t.draggables[e.draggable.id]},Kr={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||L(!1),document.body}},Jr=(0,s.connect)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=a({},e,{shouldAnimatePlaceholder:!1}),n=R((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=R((function(r,o,i,a,l,s){var u=l.descriptor.id;if(l.descriptor.droppableId===r){var d=s?{render:s,dragging:n(l.descriptor)}:null,c={isDraggingOver:i,draggingOverWith:i?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:c,useClone:d}}if(!o)return t;if(!a)return e;var g={isDraggingOver:i,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,l=!o.isDropDisabled,s=o.renderClone;if(n.isDragging){var u=n.critical;if(!Xr(a,u))return t;var d=Yr(u,n.dimensions),c=Je(n.impact)===i;return r(i,l,c,c,d,s)}if("DROP_ANIMATING"===n.phase){var g=n.completed;if(!Xr(a,g.critical))return t;var p=Yr(g.critical,n.dimensions);return r(i,l,Hr(g.result)===i,Je(g.impact)===i,p,s)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var f=n.completed;if(!Xr(a,f.critical))return t;var m=Je(f.impact)===i,v=Boolean(f.impact.at&&"COMBINE"===f.impact.at.type),b=f.critical.droppable.id===i;return m?v?e:t:b?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:_n,pure:!0,areStatePropsEqual:Vr})((function(e){var t=(0,n.useContext)(Un);t||L(!1);var o=t.contextId,i=t.isMovementAllowed,a=(0,n.useRef)(null),l=(0,n.useRef)(null),s=e.children,u=e.droppableId,d=e.type,c=e.mode,f=e.direction,v=e.ignoreContainerClipping,b=e.isDropDisabled,y=e.isCombineEnabled,w=e.snapshot,S=e.useClone,I=e.updateViewportMaxScroll,E=e.getContainerForClone,O=p((function(){return a.current}),[]),P=p((function(e){a.current=e}),[]),M=(p((function(){return l.current}),[]),p((function(e){l.current=e}),[])),F=p((function(){i()&&I({maxScroll:Zt()})}),[i,I]);!function(e){var t=(0,n.useRef)(null),r=Or(Un),o=zn("droppable"),i=r.registry,a=r.marshal,l=Wn(e),s=g((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),u=(0,n.useRef)(s),d=g((function(){return R((function(e,n){t.current||L(!1);var r={x:e,y:n};a.updateDroppableScroll(s.id,r)}))}),[s.id,a]),c=p((function(){var e=t.current;return e&&e.env.closestScrollable?xr(e.env.closestScrollable):W}),[]),f=p((function(){var e=c();d(e.x,e.y)}),[c,d]),v=g((function(){return D(f)}),[f]),b=p((function(){var e=t.current,n=Ar(e);e&&n||L(!1),e.scrollOptions.shouldPublishImmediately?f():v()}),[v,f]),y=p((function(e,n){t.current&&L(!1);var o=l.current,i=o.getDroppableRef();i||L(!1);var a=function(e){return{closestScrollable:Sr(e),isFixedOnPage:Ir(e)}}(i),u={ref:i,descriptor:s,env:a,scrollOptions:n};t.current=u;var d=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,l=e.isCombineEnabled,s=e.shouldClipSubject,u=r.closestScrollable,d=function(e,t){var n=x(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a=o+t.scrollWidth,l=m({top:r,right:a,bottom:i,left:o},n.border);return h({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})}(t,u),c=C(d,o),g=function(){if(!u)return null;var e=x(u),t={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:e,page:C(e,o),scroll:xr(u),scrollSize:t,shouldClipSubject:s}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,l=e.page,s=e.closest,u=function(){if(!s)return null;var e=s.scrollSize,t=s.client,n=Jt({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:W,displacement:W}}}}(),d="vertical"===i?Ie:Ee;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:d,isEnabled:n,client:a,page:l,frame:u,subject:re({page:l,withPlaceholder:null,axis:d,frame:u})}}({descriptor:n,isEnabled:!a,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:i,client:d,page:c,closest:g});return p}({ref:i,descriptor:s,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),c=a.closestScrollable;return c&&(c.setAttribute(On.contextId,r.contextId),c.addEventListener("scroll",b,Dr(u.scrollOptions))),d}),[r.contextId,s,b,l]),w=p((function(){var e=t.current,n=Ar(e);return e&&n||L(!1),xr(n)}),[]),S=p((function(){var e=t.current;e||L(!1);var n=Ar(e);t.current=null,n&&(v.cancel(),n.removeAttribute(On.contextId),n.removeEventListener("scroll",b,Dr(e.scrollOptions)))}),[b,v]),I=p((function(e){var n=t.current;n||L(!1);var r=Ar(n);r||L(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),E=g((function(){return{getDimensionAndWatchScroll:y,getScrollWhileDragging:w,dragStopped:S,scroll:I}}),[S,y,w,I]),O=g((function(){return{uniqueId:o,descriptor:s,callbacks:E}}),[E,s,o]);Mn((function(){return u.current=O.descriptor,i.droppable.register(O),function(){t.current&&S(),i.droppable.unregister(O)}}),[E,s,S,O,a,i.droppable]),Mn((function(){t.current&&a.updateDroppableIsEnabled(u.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Mn((function(){t.current&&a.updateDroppableIsCombineEnabled(u.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:u,type:d,mode:c,direction:f,isDropDisabled:b,isCombineEnabled:y,ignoreContainerClipping:v,getDroppableRef:O});var B=r().createElement(Nr,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,n=e.data,i=e.animate;return r().createElement(Fr,{placeholder:n,onClose:t,innerRef:M,animate:i,contextId:o,onTransitionEnd:F})})),N=g((function(){return{innerRef:P,placeholder:B,droppableProps:{"data-rbd-droppable-id":u,"data-rbd-droppable-context-id":o}}}),[o,u,B,P]),T=S?S.dragging.draggableId:null,_=g((function(){return{droppableId:u,type:d,isUsingCloneFor:T}}),[u,T,d]);return r().createElement(Br.Provider,{value:_},s(N,w),function(){if(!S)return null;var e=S.dragging,t=S.render,n=r().createElement($r,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return A().createPortal(n,E())}())}));Jr.defaultProps=Kr;var Qr,Zr,eo=d(388);!function(e){e.MINIMIZE="minimize",e.TABLE="table",e.BUTTON="button"}(Qr||(Qr={})),function(e){e.QUERY="query",e.ADHOC="adhoc",e.CONSTANT="constant",e.DATASOURCE="datasource",e.INTERVAL="interval",e.TEXTBOX="textbox",e.CUSTOM="custom",e.SYSTEM="system"}(Zr||(Zr={}));const to=[{value:Qr.TABLE,label:"Table",description:"Full featured table view."},{value:Qr.MINIMIZE,label:"Minimize",description:"Minimized select view."},{value:Qr.BUTTON,label:"Button",description:"Button select view."}],no=[{value:!0,label:"Display",description:"Display variable Label or Id. Allows to enable filtering."},{value:!1,label:"Hide",description:"Do not display header."}],ro=[{value:!0,label:"Enabled",description:"Follow when scrolling."},{value:!1,label:"Disabled",description:"Scroll with dashboard."}],oo=[{value:!0,label:"Enabled",description:"Display Table Filter."},{value:!1,label:"Disabled",description:"Hide Table Filter."}],io=[{value:!0,label:"Enabled",description:"Allows selecting and filtering favorites."},{value:!1,label:"Disabled",description:"Hide favorites."}],ao=[{value:!0,label:"Enabled",description:"Allows sort by status."},{value:!1,label:"Disabled",description:"Hide sorting."}],lo=[{value:!0,label:"Enabled",description:"Display variable names."},{value:!1,label:"Disabled",description:"Hide variable names."}],so=[{value:!0,label:"Enabled",description:"Auto scroll to the first selected value."},{value:!1,label:"Disabled",description:"Disable auto scroll."}],uo=[{value:!0,label:"Enabled",description:"Enable to allow group selection."},{value:!1,label:"Disabled",description:"Disable group selection."}],co=[{value:!0,label:"Enabled",description:"Empty value enabled."},{value:!1,label:"Disabled",description:"Empty value disabled."}],go="data-testid panel content",po="data-testid panel info",fo="data-testid panel",mo=e=>`data-testid panel tab-${e}`,vo="data-testid table button-expand",bo="data-testid table button-expand-all",ho="data-testid table button-filter",yo="data-testid table button-sort",wo=e=>`data-testid table row-${e}`,Co=(e,t)=>`data-testid table cell-${t}-${e}`,So="data-testid table value-control",xo="data-testid table all-control",Io="data-testid table favorites-control",Eo="data-testid table favorites-filter",Ro="data-testid table field-filter-value",Do="data-testid table header",Oo="data-testid table label",Ao="data-testid fields-editor button-add-new",Po="data-testid fields-editor button-remove",Mo=e=>`data-testid fields-editor item-${e}`,Fo="data-testid fields-editor new-level",Bo="fields-editor new-item-name",No="data-testid levels-editor button-add-new",To="data-testid levels-editor button-remove",Lo=e=>`data-testid levels-editor item-${e}`,_o="data-testid levels-editor new-item",ko="data-testidd levels-editor new-item-name",Go="data-testid levels-editor",Vo="data-testid minimize-view",Ho="data-testid minimize-view no-variable-message",jo="options-variable",zo=e=>`options-variable option-${e}`,Uo="data-testid text-variable",Wo="data-testid button-view",$o="data-testid button-view no-variable-message",qo="data-testid button-view no-options-message",Xo=e=>`data-testid button-view item-${e}`,Yo="All",Ko="$__all",Jo="$__empty";function Qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Qo(e,t,n[t])}))}return e}function ei(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const ti=(e,n)=>{t.locationService.partial({[`var-${e}`]:n},!0)},ni=(e,n)=>{if(n)switch(n.type){case Zr.CUSTOM:case Zr.QUERY:{const{name:r,multi:o}=n;if(o){if(e.some((e=>e===Ko)))return void ti(r,Yo);if(e.some((e=>e===Jo)))return void ti(r,"");const o=t.locationService.getSearch().getAll(`var-${r}`).filter((e=>0!==e.toLowerCase().indexOf("all")));0!==o.length||t.locationService.getSearchObject()[`var-${r}`]||o.push(...n.options.filter((e=>e.selected)).map((e=>e.value===Ko?e.text:e.value)));const i=e.filter((e=>o.includes(e)));if(i.length===e.length)return void ti(r,o.filter((e=>!i.includes(e))));const a=[...new Set(e.concat(o)).values()];return void ti(r,a)}let i=e[0];return i===Ko?i=Yo:i===Jo&&(i=""),void ti(r,i)}case Zr.TEXTBOX:{const t=e[0];return void ti(n.name,t)}default:return}},ri=e=>!!e&&(e.type===Zr.CUSTOM||e.type===Zr.QUERY),oi=e=>e.reduce(((e,t)=>{const n=(e=>{if(e.type===Zr.TEXTBOX)return e;if(e.type===Zr.CUSTOM||e.type===Zr.QUERY){const t=ei(Zo({},e),{type:Zr.CUSTOM,optionIndexByName:e.options.reduce(((e,t,n)=>(e.set(t.value,n),e)),new Map),helpers:{getOption:e=>t.options[t.optionIndexByName.get(e)]}});return t}})(t);return n?ei(Zo({},e),{[n.name]:n}):e}),{}),ii=e=>{var t;return!!ri(e)&&(Array.isArray(e.current.value)?e.includeAll?!!(null===(t=e.helpers.getOption(Ko))||void 0===t?void 0:t.selected)||e.current.value.length===e.options.length-1:e.current.value.length===e.options.length:e.current.value===Ko)};function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ai(e,t,n[t])}))}return e}function si(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const ui=(e,t,n)=>e.reduce(((e,n)=>{const r=t(n);return Array.isArray(r)?e.push(...r):e.push(r),e}),[...n]),di=(e,t,n)=>{const r=t[0];return 1===t.length?e.map((e=>n(e,r))).filter((e=>e.selectable)):Array.from(((e,t)=>(null==e?void 0:e.reduce(((e,n)=>{const r=n[t],o=e.get(r);return e.set(r,o?o.concat(n):[n]),e}),new Map))||new Map)(e,r),(([e,o])=>{const i=di(o,t.slice(1),n),a=n({[r]:e},r,i);return si(li({},a),{childValues:ui(i,(e=>e.childValues||e.label),a.childValues||[]),childFavoritesCount:i.reduce(((e,t)=>e+(t.childFavoritesCount||t.isFavorite?1:0)),a.childFavoritesCount||0),children:i})})).filter((e=>{var t;return(null===(t=e.childValues)||void 0===t?void 0:t.length)||e.selectable}))},ci=(e,{status:t,children:n,isSelectedAll:r,favoritesEnabled:o,groupSelection:i})=>{const a=!!n&&!n.some((e=>!e.selected));let l=!1;ri(e.variable)&&(!n||i&&n.length)&&(l=!!e.variable.helpers.getOption(e.value));const s=o&&l&&e.value!==Ko;return{value:e.value,selected:!!l&&(r||e.selected||a),showStatus:t.exist,statusColor:t.exist?t.color:void 0,variable:e.variable,selectable:l,canBeFavorite:s,isFavorite:s?e.isFavorite:void 0,name:e.name,status:t.exist?t.value:void 0,label:e.label}},gi=(e,t)=>e.filter((e=>{var n;return null===(n=e.childValues)||void 0===n?void 0:n.some((e=>t.includes(e)))})).filter((e=>!!e.children&&gi(e.children,t))),pi=(e,t=[],n=0)=>e.reduce(((e,t)=>{const r=e[n]||{variable:void 0,values:[],selectable:!1};r.variable=t.variable,r.values.push(t.value),r.selectable=t.selectable;const o=e[n]?e:e.concat(r);return t.children?pi(t.children,o,n+1):o}),t),fi=(e,t,n)=>{const r=n.toLowerCase();return e.original.childValues?e.original.childValues.some((e=>e.toLowerCase().includes(r))):e.original.label.toLowerCase().includes(r)},mi=(e,t)=>{const n=void 0!==e.original.status?e.original.status:0,r=void 0!==t.original.status?t.original.status:0;return n===r?0:n>r?1:-1},vi=(e,t,n)=>!n||(e.original.childValues?(e.original.childFavoritesCount||0)>0:!!e.original.isFavorite),bi=(e,t,n)=>{const r=Array.from(e),[o]=r.splice(t,1);return r.splice(n,0,o),r},hi=({previousValues:e,value:t,emptyValueEnabled:n,variable:r})=>{const o=Array.isArray(t)?t:[t];if(e.length>o.length){if(0===o.length&&n)return void ni([Jo],r);if(0===o.length&&(null==r?void 0:r.multi)&&r.includeAll)return void ni([Ko],r);const t=e.filter((e=>!o.includes(e)));ni(t,r)}else o.length>1&&e.includes(Ko)&&o.includes(Ko)?ni(o.filter((e=>e!==Ko)),r):o.length>1&&!e.includes(Ko)&&o.includes(Ko)?ni([Ko],r):ni(o,r)};var yi=d(644);const wi=({title:e,actions:t,children:n,isOpen:o=!1,onToggle:i,headerTestId:a,contentTestId:l})=>{const s=(u=(0,eo.useTheme2)(),{root:yi.css`
      border: 1px solid ${u.colors.border.weak};
      background-color: ${u.colors.background.primary};
    `,header:yi.css`
      label: Header;
      padding: ${u.spacing(.5,.5)};
      min-height: ${u.spacing(4)};
      display: flex;
      align-items: center;
      justify-content: space-between;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,title:yi.css`
      font-weight: ${u.typography.fontWeightBold};
      margin-left: ${u.spacing(.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,collapseIcon:yi.css`
      margin-left: ${u.spacing(.5)};
      color: ${u.colors.text.disabled};
    `,actions:yi.css`
      margin-left: auto;
      display: flex;
      align-items: center;
    `,content:yi.css`
      padding: ${u.spacing(1)};
    `});var u;return r().createElement("div",{className:s.root},r().createElement("div",{className:s.header,"data-testid":a,onClick:i},r().createElement(eo.IconButton,{name:o?"angle-down":"angle-right",tooltip:o?"Collapse":"Expand",className:s.collapseIcon,"aria-expanded":o}),r().createElement("div",{className:s.title},e),t&&r().createElement("div",{className:s.actions,onClick:e=>e.stopPropagation()},t)),o&&r().createElement("div",{className:s.content,"data-testid":l},n))};function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ci(e,t,n[t])}))}return e}function xi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ii=(e,t,n)=>Si({marginLeft:4*n},t),Ei=({items:e,name:t,onChange:o,data:i})=>{const a=(m=(0,eo.useTheme2)(),{header:yi.css`
      label: Header;
      padding: ${m.spacing(.5,.5)};
      border-radius: ${m.shape.borderRadius(1)};
      background: ${m.colors.background.secondary};
      min-height: ${m.spacing(4)};
      display: grid;
      grid-template-columns: minmax(100px, max-content) min-content;
      align-items: center;
      justify-content: space-between;
      white-space: nowrap;

      &:focus {
        outline: none;
      }
    `,column:yi.css`
      label: Column;
      display: flex;
      align-items: center;
    `,dragIcon:yi.css`
      cursor: grab;
      color: ${m.colors.text.disabled};
      margin: ${m.spacing(0,.5)};
      &:hover {
        color: ${m.colors.text};
      }
    `,collapseIcon:yi.css`
      margin-left: ${m.spacing(.5)};
      color: ${m.colors.text.disabled};
    `,titleWrapper:yi.css`
      display: flex;
      align-items: center;
      flex-grow: 1;
      cursor: pointer;
      overflow: hidden;
      margin-right: ${m.spacing(.5)};
    `,title:yi.css`
      font-weight: ${m.typography.fontWeightBold};
      color: ${m.colors.text.secondary};
      margin-left: ${m.spacing(.5)};
      overflow: hidden;
      text-overflow: ellipsis;
    `,item:yi.css`
      margin-bottom: ${m.spacing(1)};
    `}),[l,s]=(0,n.useState)(e),[u,d]=(0,n.useState)(null),c=(0,n.useCallback)((e=>{s(e),o({name:t,items:e})}),[t,o]),g=(0,n.useCallback)((e=>{e.destination&&c(bi(l,e.source.index,e.destination.index))}),[l,c]),p=(0,n.useMemo)((()=>{const e=l[l.length-1];if(e){const t=i.find((t=>t.refId===(null==e?void 0:e.source)));return(null==t?void 0:t.fields.map((({name:e})=>({label:e,source:t.refId,value:e,fieldName:e}))).filter((e=>!l.some((t=>t.name===e.value)))))||[]}return i.reduce(((e,t)=>e.concat(t.fields.map((e=>({value:`${t.refId}:${e.name}`,fieldName:e.name,label:`${t.refId}:${e.name}`,source:t.refId}))))),[])}),[i,l]),f=(0,n.useCallback)((()=>{u&&(c([...l,{name:u.name,source:u.source}]),d(null))}),[l,u,c]);var m;return r().createElement("div",{"data-testid":Go},r().createElement(br,{onDragEnd:g},r().createElement(Jr,{droppableId:t},(e=>r().createElement("div",xi(Si({},e.droppableProps),{ref:e.innerRef}),l.map(((e,t)=>r().createElement(qr,{key:e.name,draggableId:e.name,index:t},((n,o)=>r().createElement("div",xi(Si({ref:n.innerRef},n.draggableProps,n.dragHandleProps),{style:Ii(o.isDragging,n.draggableProps.style,t),className:a.item,"data-testid":Lo(e.name)}),r().createElement("div",{className:a.header},r().createElement("div",{className:a.column},e.name&&r().createElement("div",{className:a.titleWrapper},r().createElement("div",{className:(0,yi.cx)(a.title)},e.name))),r().createElement("div",{className:a.column},r().createElement(eo.IconButton,{name:"trash-alt",onClick:()=>c(l.filter((t=>t.name!==e.name))),"aria-label":"Remove","data-testid":To}),r().createElement(eo.Icon,Si({title:"Drag and drop to reorder",name:"draggabledots",size:"lg",className:a.dragIcon},n.dragHandleProps))))))))),e.placeholder)))),r().createElement(eo.InlineFieldRow,{"data-testid":_o},r().createElement(eo.InlineField,{label:"New Level",grow:!0},r().createElement(eo.Select,{options:p,value:(null==u?void 0:u.value)||null,"aria-label":ko,onChange:e=>{d({value:e.value,source:e.source,name:e.fieldName})}})),r().createElement(eo.Button,{icon:"plus",title:"Add Level",disabled:!u,onClick:f,"data-testid":No},"Add")))};function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ri(e,t,n[t])}))}return e}function Oi(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const Ai=({context:{options:e,data:t},onChange:o})=>{const i=(h=(0,eo.useTheme2)(),{newGroup:yi.css`
      margin: ${h.spacing(2)} 0;
    `,group:yi.css`
      margin-bottom: ${h.spacing(1)};
    `,groupHeader:yi.css`
      overflow: hidden;
      text-overflow: ellipsis;
    `,dragIcon:yi.css`
      cursor: grab;
      color: ${h.colors.text.disabled};
      margin: ${h.spacing(0,.5)};
      &:hover {
        color: ${h.colors.text};
      }
    `,removeButton:yi.css`
      color: ${h.colors.text.secondary};
    `}),[a,l]=(0,n.useState)((null==e?void 0:e.groups)||[]),[s,u]=(0,n.useState)(""),[d,c]=(0,n.useState)({}),g=(0,n.useCallback)((e=>{l(e),o(e)}),[o]),p=(0,n.useCallback)((e=>{e.destination&&g(bi(a,e.source.index,e.destination.index))}),[a,g]),f=(0,n.useCallback)((e=>{c((t=>Oi(Di({},t),{[e]:!t[e]})))}),[]),m=(0,n.useCallback)((()=>{u(""),g(a.concat([{name:s,items:[]}])),f(s)}),[a,s,g,f]),v=(0,n.useCallback)((e=>{g(a.map((t=>t.name===e.name?e:t)))}),[a,g]),b=(0,n.useMemo)((()=>a.some((e=>e.name===s))),[a,s]);var h;return r().createElement(r().Fragment,null,r().createElement(br,{onDragEnd:p},r().createElement(Jr,{droppableId:"groups-editor"},(e=>r().createElement("div",Oi(Di({},e.droppableProps),{ref:e.innerRef}),a.map((({name:e,items:n},o)=>r().createElement(qr,{key:e,draggableId:e,index:o},((o,l)=>{return r().createElement("div",Oi(Di({ref:o.innerRef},o.draggableProps),{style:(l.isDragging,s=o.draggableProps.style,Di({},s)),className:i.group}),r().createElement(wi,{key:e,title:r().createElement("div",{className:i.groupHeader},e),headerTestId:Mo(e),actions:r().createElement(r().Fragment,null,r().createElement(eo.Button,{icon:"trash-alt",variant:"secondary",fill:"text",size:"sm",className:i.removeButton,onClick:()=>{g(a.filter((t=>t.name!==e)))},"data-testid":Po}),r().createElement(eo.Icon,Oi(Di({name:"draggabledots"},o.dragHandleProps),{className:i.dragIcon}))),isOpen:d[e],onToggle:()=>f(e)},r().createElement(Ei,{name:e,items:n,data:t,onChange:v})));var s})))),e.placeholder)))),r().createElement(eo.InlineFieldRow,{className:i.newGroup,"data-testid":Fo},r().createElement(eo.InlineField,{label:"New Group",grow:!0,invalid:b,error:"Group with the same name already exists."},r().createElement(eo.Input,{placeholder:"Unique name",value:s,onChange:e=>u(e.currentTarget.value),"data-testid":Bo})),r().createElement(eo.Button,{icon:"plus",title:"Add Group",disabled:!s||b,onClick:m,"data-testid":Ao},"Add")))},Pi=e=>({wrapper:yi.css`
      position: relative;
    `,content:yi.css`
      position: absolute;
      overflow: auto;
    `,header:yi.css`
      position: sticky;
      top: 0;
      background-color: ${e.colors.background.primary};
    `,rowContent:yi.css`
      display: flex;
    `,expandButton:yi.css`
      margin-right: ${e.spacing(1)};
    `,label:yi.css`
      display: flex;
      align-items: center;
      cursor: pointer;
    `,selectControl:yi.css`
      vertical-align: middle;
      margin-right: ${e.spacing(1)};
    `,status:yi.css`
      display: block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: ${e.spacing(1)};
      flex: none;
    `}),Mi=({variable:e})=>{var t;const[o,i]=(0,n.useState)((null===(t=e.current.value)||void 0===t?void 0:t.toString())||"");(0,n.useEffect)((()=>{var t;i((null===(t=e.current.value)||void 0===t?void 0:t.toString())||"")}),[e]);const a=(0,n.useCallback)((e=>{i(e.target.value)}),[]),l=(0,n.useCallback)((()=>{ni([o],e)}),[o,e]),s=(0,n.useCallback)((e=>{"Enter"===e.key&&l(),"Escape"===e.key&&e.currentTarget.blur()}),[l]);return r().createElement(eo.Input,{"data-testid":Uo,onChange:a,onBlur:l,onKeyDown:s,value:o,placeholder:"Enter variable value"})};function Fi(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Bi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fi(i,r,o,a,l,"next",e)}function l(e){Fi(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ni(e,t,n[t])}))}return e}function Li(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const _i=()=>{const e=(0,n.useCallback)(Bi((function*(){const e=window.localStorage.getItem("favorites");return JSON.parse(e||"{}")})),[]),t=(0,n.useCallback)((r=Bi((function*(e){return window.localStorage.setItem("favorites",JSON.stringify(e)),e})),function(e){return r.apply(this,arguments)}),[]);var r;return(0,n.useMemo)((()=>({get:e,update:t})),[e,t])},ki=()=>{const[e,t]=(0,n.useState)({}),r=_i(),o=(0,n.useCallback)(Bi((function*(){const e=yield r.get();t(e)})),[r]),i=(0,n.useCallback)((a=Bi((function*(n,o){if(!n)return;const i=yield r.update(Li(Ti({},e),{[n]:e[n]?e[n].concat([o]):[o]}));t(i)})),function(e,t){return a.apply(this,arguments)}),[e,r]);var a;const l=(0,n.useCallback)(function(){var n=Bi((function*(n,o){if(!n)return;const i=yield r.update(Li(Ti({},e),{[n]:e[n]?e[n].filter((e=>e!==o)):[]}));t(i)}));return function(e,t){return n.apply(this,arguments)}}(),[e,r]),s=(0,n.useCallback)(((t,n)=>!(!t||!e[t])&&e[t].includes(n)),[e]);return(0,n.useEffect)((()=>{o()}),[o]),(0,n.useMemo)((()=>({add:i,remove:l,isAdded:s})),[i,s,l])},Gi=(e,r)=>{const[o,i]=(0,n.useState)({}),[a,l]=(0,n.useState)();(0,n.useEffect)((()=>{i(oi((0,t.getTemplateSrv)().getVariables()));const n=e.getStream(t.RefreshEvent).subscribe((()=>{i(oi((0,t.getTemplateSrv)().getVariables()))}));return()=>{n.unsubscribe()}}),[e]);const s=(0,n.useCallback)((e=>o[e]||void 0),[o]);return(0,n.useEffect)((()=>{l(s(r))}),[s,r]),{variable:a,getVariable:s}},Vi=({data:t,name:r,status:o})=>{const i=(0,n.useMemo)((()=>{var n,o;return null===(o=t.series.map((t=>t.fields.find((t=>t.type===e.FieldType.string&&(!r||t.name===r))))).find((e=>null==e?void 0:e.values)))||void 0===o||null===(n=o.values)||void 0===n?void 0:n.toArray()}),[t.series,r]),a=(0,n.useMemo)((()=>t.series.map((t=>t.fields.find((t=>t.type===e.FieldType.number&&(!o||t.name===o))))).find((e=>null==e?void 0:e.values))),[t.series,o]);return(0,n.useCallback)((e=>{const t=null==i?void 0:i.findIndex((t=>t===e)),n=void 0!==t&&t>=0;if(n){var r;const e=null==a?void 0:a.values.get(t),o=null==a||null===(r=a.display)||void 0===r?void 0:r.call(a,e);return void 0===e||void 0===o?{exist:!1}:{exist:n,value:e,color:o.color||""}}return{exist:n}}),[i,a])},Hi=e=>({root:yi.css`
      display: flex;
      gap: ${e.spacing(.5)};
      flex-wrap: wrap;
    `}),ji=({data:e,options:{variable:t,padding:o=0,status:i,name:a,emptyValue:l=!1}={},eventBus:s})=>{const u=(0,eo.useStyles2)(Hi),d=(0,eo.useTheme2)(),{variable:c}=Gi(s,t||""),g=(0,n.useMemo)((()=>ri(c)?null==c?void 0:c.options.filter((e=>e.selected)).map((e=>e.value)):[]),[c]),p=Vi({data:e,name:a,status:i});return c?ri(c)&&c.options.length?r().createElement("div",{className:(0,yi.cx)(u.root,yi.css`
          padding: ${o}px;
        `),"data-testid":Wo},c.options.map((e=>{const t=e.value===Ko?Yo:e.value,n=p(t),o=e.selected?n.exist?n.color:d.colors.background.secondary:d.colors.background.primary;return r().createElement(eo.Button,{key:t,variant:"secondary",fill:"outline",style:{borderColor:n.exist?n.color:"",backgroundColor:o,color:d.colors.getContrastText(o)},onClick:()=>{let t=e.value;c.multi&&(t=e.selected?null==g?void 0:g.filter((t=>t!==e.value)):[...g,e.value]),hi({previousValues:g,variable:c,emptyValueEnabled:l,value:t})},"data-testid":Xo(t)},e.text.toString())}))):r().createElement(eo.Alert,{severity:"info",title:"Variable","data-testid":qo},"Options are not available."):r().createElement(eo.Alert,{severity:"info",title:"Variable","data-testid":$o},"Variable is not selected.")},zi=({variable:e,emptyValue:t})=>{const o=(0,n.useMemo)((()=>e.options.filter((e=>e.selected)).map((e=>e.value))),[e]),i=(0,n.useCallback)((n=>{hi({previousValues:o,value:Array.isArray(n)?n.map((e=>e.value)):n.value||"",variable:e,emptyValueEnabled:t})}),[t,o,e]),a=(0,n.useMemo)((()=>e.options.map((e=>({label:e.text,value:e.value,ariaLabel:zo(e.value)})))),[e.options]);return r().createElement(eo.Select,{"aria-label":jo,onChange:i,options:a,isMulti:e.multi,value:e.multi?o:o[0]||null})},Ui=({options:{variable:e,padding:t=0,emptyValue:n=!1}={},eventBus:o,width:i})=>{const{variable:a}=Gi(o,e||"");if(!a)return r().createElement(eo.Alert,{severity:"info",title:"Variable","data-testid":Ho},"Variable is not selected.");const l=i-80-2*t;return r().createElement("div",{className:yi.css`
        padding: ${t}px;
      `,"data-testid":Vo},r().createElement(eo.InlineField,{grow:!0,label:a.label||a.name,labelWidth:10},r().createElement(r().Fragment,null,(a.type===Zr.QUERY||a.type===Zr.CUSTOM)&&r().createElement("div",{style:{maxWidth:l}},r().createElement(zi,{variable:a,emptyValue:n})),a.type===Zr.TEXTBOX&&r().createElement(Mi,{variable:a}))))};function Wi(e,t){return"function"==typeof e?e(t):e}function $i(e,t){return n=>{t.setState((t=>({...t,[e]:Wi(n,t[e])})))}}function qi(e){return e instanceof Function}function Xi(e,t,n){let r,o=[];return()=>{let i;n.key&&n.debug&&(i=Date.now());const a=e();if(a.length===o.length&&!a.some(((e,t)=>o[t]!==e)))return r;let l;if(o=a,n.key&&n.debug&&(l=Date.now()),r=t(...a),null==n||null==n.onChange||n.onChange(r),n.key&&n.debug&&null!=n&&n.debug()){const e=Math.round(100*(Date.now()-i))/100,t=Math.round(100*(Date.now()-l))/100,r=t/16,o=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${o(t,5)} /${o(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*r,120))}deg 100% 31%);`,null==n?void 0:n.key)}return r}}function Yi(e,t,n){var r;let o={id:null!=(r=n.id)?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=n=>{n.subHeaders&&n.subHeaders.length&&n.subHeaders.map(t),e.push(n)};return t(o),e},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach((t=>{Object.assign(o,null==t.createHeader?void 0:t.createHeader(o,e))})),o}const Ki={createTable:e=>({getHeaderGroups:Xi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,o)=>{var i,a;const l=null!=(i=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?i:[],s=null!=(a=null==o?void 0:o.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?a:[];return Ji(t,[...l,...n.filter((e=>!(null!=r&&r.includes(e.id)||null!=o&&o.includes(e.id)))),...s],e)}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getCenterHeaderGroups:Xi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((t,n,r,o)=>Ji(t,n=n.filter((e=>!(null!=r&&r.includes(e.id)||null!=o&&o.includes(e.id)))),e,"center")),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeftHeaderGroups:Xi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left]),((t,n,r)=>{var o;return Ji(t,null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],e,"left")}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getRightHeaderGroups:Xi((()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right]),((t,n,r)=>{var o;return Ji(t,null!=(o=null==r?void 0:r.map((e=>n.find((t=>t.id===e)))).filter(Boolean))?o:[],e,"right")}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getFooterGroups:Xi((()=>[e.getHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeftFooterGroups:Xi((()=>[e.getLeftHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getCenterFooterGroups:Xi((()=>[e.getCenterHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getRightFooterGroups:Xi((()=>[e.getRightHeaderGroups()]),(e=>[...e].reverse()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getFlatHeaders:Xi((()=>[e.getHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeftFlatHeaders:Xi((()=>[e.getLeftHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getCenterFlatHeaders:Xi((()=>[e.getCenterHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getRightFlatHeaders:Xi((()=>[e.getRightHeaderGroups()]),(e=>e.map((e=>e.headers)).flat()),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getCenterLeafHeaders:Xi((()=>[e.getCenterFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeftLeafHeaders:Xi((()=>[e.getLeftFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getRightLeafHeaders:Xi((()=>[e.getRightFlatHeaders()]),(e=>e.filter((e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}}),getLeafHeaders:Xi((()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()]),((e,t,n)=>{var r,o,i,a,l,s;return[...null!=(r=null==(o=e[0])?void 0:o.headers)?r:[],...null!=(i=null==(a=t[0])?void 0:a.headers)?i:[],...null!=(l=null==(s=n[0])?void 0:s.headers)?l:[]].map((e=>e.getLeafHeaders())).flat()}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugHeaders}})})};function Ji(e,t,n,r){var o,i;let a=0;const l=function(e,t){void 0===t&&(t=1),a=Math.max(a,t),e.filter((e=>e.getIsVisible())).forEach((e=>{var n;null!=(n=e.columns)&&n.length&&l(e.columns,t+1)}),0)};l(e);let s=[];const u=(e,t)=>{const o={depth:t,id:[r,`${t}`].filter(Boolean).join("_"),headers:[]},i=[];e.forEach((e=>{const a=[...i].reverse()[0];let l,s=!1;if(e.column.depth===o.depth&&e.column.parent?l=e.column.parent:(l=e.column,s=!0),a&&(null==a?void 0:a.column)===l)a.subHeaders.push(e);else{const o=Yi(n,l,{id:[r,t,l.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:s,placeholderId:s?`${i.filter((e=>e.column===l)).length}`:void 0,depth:t,index:i.length});o.subHeaders.push(e),i.push(o)}o.headers.push(e),e.headerGroup=o})),s.push(o),t>0&&u(i,t-1)},d=t.map(((e,t)=>Yi(n,e,{depth:a,index:t})));u(d,a-1),s.reverse();const c=e=>e.filter((e=>e.column.getIsVisible())).map((e=>{let t=0,n=0,r=[0];return e.subHeaders&&e.subHeaders.length?(r=[],c(e.subHeaders).forEach((e=>{let{colSpan:n,rowSpan:o}=e;t+=n,r.push(o)}))):t=1,n+=Math.min(...r),e.colSpan=t,e.rowSpan=n,{colSpan:t,rowSpan:n}}));return c(null!=(o=null==(i=s[0])?void 0:i.headers)?o:[]),s}const Qi={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Zi={getDefaultColumnDef:()=>Qi,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:$i("columnSizing",e),onColumnSizingInfoChange:$i("columnSizingInfo",e)}),createColumn:(e,t)=>({getSize:()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(n=e.columnDef.minSize)?n:Qi.minSize,null!=(r=null!=i?i:e.columnDef.size)?r:Qi.size),null!=(o=e.columnDef.maxSize)?o:Qi.maxSize)},getStart:n=>{const r=n?"left"===n?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),o=r.findIndex((t=>t.id===e.id));if(o>0){const e=r[o-1];return e.getStart(n)+e.getSize()}return 0},resetSize:()=>{t.setColumnSizing((t=>{let{[e.id]:n,...r}=t;return r}))},getCanResize:()=>{var n,r;return(null==(n=e.columnDef.enableResizing)||n)&&(null==(r=t.options.enableColumnResizing)||r)},getIsResizing:()=>t.getState().columnSizingInfo.isResizingColumn===e.id}),createHeader:(e,t)=>({getSize:()=>{let t=0;const n=e=>{var r;e.subHeaders.length?e.subHeaders.forEach(n):t+=null!=(r=e.column.getSize())?r:0};return n(e),t},getStart:()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},getResizeHandler:()=>{const n=t.getColumn(e.column.id),r=null==n?void 0:n.getCanResize();return o=>{if(!n||!r)return;if(null==o.persist||o.persist(),ta(o)&&o.touches&&o.touches.length>1)return;const i=e.getSize(),a=e?e.getLeafHeaders().map((e=>[e.column.id,e.column.getSize()])):[[n.id,n.getSize()]],l=ta(o)?Math.round(o.touches[0].clientX):o.clientX,s={},u=(e,n)=>{"number"==typeof n&&(t.setColumnSizingInfo((e=>{var t,r;const o=n-(null!=(t=null==e?void 0:e.startOffset)?t:0),i=Math.max(o/(null!=(r=null==e?void 0:e.startSize)?r:0),-.999999);return e.columnSizingStart.forEach((e=>{let[t,n]=e;s[t]=Math.round(100*Math.max(n+n*i,0))/100})),{...e,deltaOffset:o,deltaPercentage:i}})),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing((e=>({...e,...s}))))},d=e=>u("move",e),c=e=>{u("end",e),t.setColumnSizingInfo((e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]})))},g={moveHandler:e=>d(e.clientX),upHandler:e=>{document.removeEventListener("mousemove",g.moveHandler),document.removeEventListener("mouseup",g.upHandler),c(e.clientX)}},p={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1),upHandler:e=>{var t;document.removeEventListener("touchmove",p.moveHandler),document.removeEventListener("touchend",p.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),c(null==(t=e.touches[0])?void 0:t.clientX)}},f=!!function(){if("boolean"==typeof ea)return ea;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch(t){e=!1}return ea=e,ea}()&&{passive:!1};ta(o)?(document.addEventListener("touchmove",p.moveHandler,f),document.addEventListener("touchend",p.upHandler,f)):(document.addEventListener("mousemove",g.moveHandler,f),document.addEventListener("mouseup",g.upHandler,f)),t.setColumnSizingInfo((e=>({...e,startOffset:l,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:n.id})))}}}),createTable:e=>({setColumnSizing:t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),setColumnSizingInfo:t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),resetColumnSizing:t=>{var n;e.setColumnSizing(t?{}:null!=(n=e.initialState.columnSizing)?n:{})},resetHeaderSizeInfo:t=>{var n;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(n=e.initialState.columnSizingInfo)?n:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},getTotalSize:()=>{var t,n;return null!=(t=null==(n=e.getHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},getLeftTotalSize:()=>{var t,n;return null!=(t=null==(n=e.getLeftHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},getCenterTotalSize:()=>{var t,n;return null!=(t=null==(n=e.getCenterHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0},getRightTotalSize:()=>{var t,n;return null!=(t=null==(n=e.getRightHeaderGroups()[0])?void 0:n.headers.reduce(((e,t)=>e+t.getSize()),0))?t:0}})};let ea=null;function ta(e){return"touchstart"===e.type}const na={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:$i("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;return{_autoResetExpanded:()=>{var r,o;if(t){if(null!=(r=null!=(o=e.options.autoResetAll)?o:e.options.autoResetExpanded)?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue((()=>{e.resetExpanded(),n=!1}))}}else e._queue((()=>{t=!0}))},setExpanded:t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),toggleAllRowsExpanded:t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},resetExpanded:t=>{var n,r;e.setExpanded(t?{}:null!=(n=null==(r=e.initialState)?void 0:r.expanded)?n:{})},getCanSomeRowsExpand:()=>e.getPrePaginationRowModel().flatRows.some((e=>e.getCanExpand())),getToggleAllRowsExpandedHandler:()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},getIsAllRowsExpanded:()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some((e=>!e.getIsExpanded()))},getExpandedDepth:()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach((e=>{const n=e.split(".");t=Math.max(t,n.length)})),t},getPreExpandedRowModel:()=>e.getSortedRowModel(),getExpandedRowModel:()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())}},createRow:(e,t)=>({toggleExpanded:n=>{t.setExpanded((r=>{var o;const i=!0===r||!(null==r||!r[e.id]);let a={};if(!0===r?Object.keys(t.getRowModel().rowsById).forEach((e=>{a[e]=!0})):a=r,n=null!=(o=n)?o:!i,!i&&n)return{...a,[e.id]:!0};if(i&&!n){const{[e.id]:t,...n}=a;return n}return r}))},getIsExpanded:()=>{var n;const r=t.getState().expanded;return!!(null!=(n=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?n:!0===r||(null==r?void 0:r[e.id]))},getCanExpand:()=>{var n,r,o;return null!=(n=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?n:(null==(r=t.options.enableExpanding)||r)&&!(null==(o=e.subRows)||!o.length)},getToggleExpandedHandler:()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}})},ra=(e,t,n)=>{var r,o,i;const a=n.toLowerCase();return Boolean(null==(r=e.getValue(t))||null==(o=r.toString())||null==(i=o.toLowerCase())?void 0:i.includes(a))};ra.autoRemove=e=>pa(e);const oa=(e,t,n)=>{var r,o;return Boolean(null==(r=e.getValue(t))||null==(o=r.toString())?void 0:o.includes(n))};oa.autoRemove=e=>pa(e);const ia=(e,t,n)=>{var r,o;return(null==(r=e.getValue(t))||null==(o=r.toString())?void 0:o.toLowerCase())===(null==n?void 0:n.toLowerCase())};ia.autoRemove=e=>pa(e);const aa=(e,t,n)=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)};aa.autoRemove=e=>pa(e)||!(null!=e&&e.length);const la=(e,t,n)=>!n.some((n=>{var r;return!(null!=(r=e.getValue(t))&&r.includes(n))}));la.autoRemove=e=>pa(e)||!(null!=e&&e.length);const sa=(e,t,n)=>n.some((n=>{var r;return null==(r=e.getValue(t))?void 0:r.includes(n)}));sa.autoRemove=e=>pa(e)||!(null!=e&&e.length);const ua=(e,t,n)=>e.getValue(t)===n;ua.autoRemove=e=>pa(e);const da=(e,t,n)=>e.getValue(t)==n;da.autoRemove=e=>pa(e);const ca=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};ca.resolveFilterValue=e=>{let[t,n]=e,r="number"!=typeof t?parseFloat(t):t,o="number"!=typeof n?parseFloat(n):n,i=null===t||Number.isNaN(r)?-1/0:r,a=null===n||Number.isNaN(o)?1/0:o;if(i>a){const e=i;i=a,a=e}return[i,a]},ca.autoRemove=e=>pa(e)||pa(e[0])&&pa(e[1]);const ga={includesString:ra,includesStringSensitive:oa,equalsString:ia,arrIncludes:aa,arrIncludesAll:la,arrIncludesSome:sa,equals:ua,weakEquals:da,inNumberRange:ca};function pa(e){return null==e||""===e}function fa(e,t,n){return!(!e||!e.autoRemove)&&e.autoRemove(t,n)||void 0===t||"string"==typeof t&&!t}const ma={sum:(e,t,n)=>n.reduce(((t,n)=>{const r=n.getValue(e);return t+("number"==typeof r?r:0)}),0),min:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r>n||void 0===r&&n>=n)&&(r=n)})),r},max:(e,t,n)=>{let r;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(r<n||void 0===r&&n>=n)&&(r=n)})),r},extent:(e,t,n)=>{let r,o;return n.forEach((t=>{const n=t.getValue(e);null!=n&&(void 0===r?n>=n&&(r=o=n):(r>n&&(r=n),o<n&&(o=n)))})),[r,o]},mean:(e,t)=>{let n=0,r=0;if(t.forEach((t=>{let o=t.getValue(e);null!=o&&(o=+o)>=o&&(++n,r+=o)})),n)return r/n},median:(e,t)=>{if(!t.length)return;const n=t.map((t=>t.getValue(e)));if(r=n,!Array.isArray(r)||!r.every((e=>"number"==typeof e)))return;var r;if(1===n.length)return n[0];const o=Math.floor(n.length/2),i=n.sort(((e,t)=>e-t));return n.length%2!=0?i[o]:(i[o-1]+i[o])/2},unique:(e,t)=>Array.from(new Set(t.map((t=>t.getValue(e)))).values()),uniqueCount:(e,t)=>new Set(t.map((t=>t.getValue(e)))).size,count:(e,t)=>t.length},va={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:$i("columnPinning",e)}),createColumn:(e,t)=>({pin:n=>{const r=e.getLeafColumns().map((e=>e.id)).filter(Boolean);t.setColumnPinning((e=>{var t,o,i,a,l,s;return"right"===n?{left:(null!=(i=null==e?void 0:e.left)?i:[]).filter((e=>!(null!=r&&r.includes(e)))),right:[...(null!=(a=null==e?void 0:e.right)?a:[]).filter((e=>!(null!=r&&r.includes(e)))),...r]}:"left"===n?{left:[...(null!=(l=null==e?void 0:e.left)?l:[]).filter((e=>!(null!=r&&r.includes(e)))),...r],right:(null!=(s=null==e?void 0:e.right)?s:[]).filter((e=>!(null!=r&&r.includes(e))))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter((e=>!(null!=r&&r.includes(e)))),right:(null!=(o=null==e?void 0:e.right)?o:[]).filter((e=>!(null!=r&&r.includes(e))))}}))},getCanPin:()=>e.getLeafColumns().some((e=>{var n,r;return(null==(n=e.columnDef.enablePinning)||n)&&(null==(r=t.options.enablePinning)||r)})),getIsPinned:()=>{const n=e.getLeafColumns().map((e=>e.id)),{left:r,right:o}=t.getState().columnPinning,i=n.some((e=>null==r?void 0:r.includes(e))),a=n.some((e=>null==o?void 0:o.includes(e)));return i?"left":!!a&&"right"},getPinnedIndex:()=>{var n,r,o;const i=e.getIsPinned();return i?null!=(n=null==(r=t.getState().columnPinning)||null==(o=r[i])?void 0:o.indexOf(e.id))?n:-1:0}}),createRow:(e,t)=>({getCenterVisibleCells:Xi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.column.id)))}),{key:"row.getCenterVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),getLeftVisibleCells:Xi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"left"})))),{key:"row.getLeftVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),getRightVisibleCells:Xi((()=>[e._getAllVisibleCells(),t.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.column.id===t)))).filter(Boolean).map((e=>({...e,position:"right"})))),{key:"row.getRightVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}})}),createTable:e=>({setColumnPinning:t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),resetColumnPinning:t=>{var n,r;return e.setColumnPinning(t?{left:[],right:[]}:null!=(n=null==(r=e.initialState)?void 0:r.columnPinning)?n:{left:[],right:[]})},getIsSomeColumnsPinned:t=>{var n;const r=e.getState().columnPinning;var o,i;return t?Boolean(null==(n=r[t])?void 0:n.length):Boolean((null==(o=r.left)?void 0:o.length)||(null==(i=r.right)?void 0:i.length))},getLeftLeafColumns:Xi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),getRightLeafColumns:Xi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.right]),((e,t)=>(null!=t?t:[]).map((t=>e.find((e=>e.id===t)))).filter(Boolean)),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),getCenterLeafColumns:Xi((()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right]),((e,t,n)=>{const r=[...null!=t?t:[],...null!=n?n:[]];return e.filter((e=>!r.includes(e.id)))}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}})})},ba={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:$i("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>({setRowSelection:t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),resetRowSelection:t=>{var n;return e.setRowSelection(t?{}:null!=(n=e.initialState.rowSelection)?n:{})},toggleAllRowsSelected:t=>{e.setRowSelection((n=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach((e=>{e.getCanSelect()&&(r[e.id]=!0)})):o.forEach((e=>{delete r[e.id]})),r}))},toggleAllPageRowsSelected:t=>e.setRowSelection((n=>{const r=void 0!==t?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach((t=>{ha(o,t.id,r,e)})),o})),getPreSelectedRowModel:()=>e.getCoreRowModel(),getSelectedRowModel:Xi((()=>[e.getState().rowSelection,e.getCoreRowModel()]),((t,n)=>Object.keys(t).length?ya(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getFilteredSelectedRowModel:Xi((()=>[e.getState().rowSelection,e.getFilteredRowModel()]),((t,n)=>Object.keys(t).length?ya(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:"getFilteredSelectedRowModel",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getGroupedSelectedRowModel:Xi((()=>[e.getState().rowSelection,e.getSortedRowModel()]),((t,n)=>Object.keys(t).length?ya(e,n):{rows:[],flatRows:[],rowsById:{}}),{key:"getGroupedSelectedRowModel",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getIsAllRowsSelected:()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=Boolean(t.length&&Object.keys(n).length);return r&&t.some((e=>e.getCanSelect()&&!n[e.id]))&&(r=!1),r},getIsAllPageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows.filter((e=>e.getCanSelect())),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some((e=>!n[e.id]))&&(r=!1),r},getIsSomeRowsSelected:()=>{var t;const n=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter((e=>e.getCanSelect())).some((e=>e.getIsSelected()||e.getIsSomeSelected()))},getToggleAllRowsSelectedHandler:()=>t=>{e.toggleAllRowsSelected(t.target.checked)},getToggleAllPageRowsSelectedHandler:()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}}),createRow:(e,t)=>({toggleSelected:n=>{const r=e.getIsSelected();t.setRowSelection((o=>{if(r===(n=void 0!==n?n:!r))return o;const i={...o};return ha(i,e.id,n,t),i}))},getIsSelected:()=>{const{rowSelection:n}=t.getState();return wa(e,n)},getIsSomeSelected:()=>{const{rowSelection:n}=t.getState();return"some"===Ca(e,n)},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=t.getState();return"all"===Ca(e,n)},getCanSelect:()=>{var n;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(n=t.options.enableRowSelection)||n},getCanSelectSubRows:()=>{var n;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(n=t.options.enableSubRowSelection)||n},getCanMultiSelect:()=>{var n;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(n=t.options.enableMultiRowSelection)||n},getToggleSelectedHandler:()=>{const t=e.getCanSelect();return n=>{var r;t&&e.toggleSelected(null==(r=n.target)?void 0:r.checked)}}})},ha=(e,t,n,r)=>{var o;const i=r.getRow(t);n?(i.getCanMultiSelect()||Object.keys(e).forEach((t=>delete e[t])),i.getCanSelect()&&(e[t]=!0)):delete e[t],null!=(o=i.subRows)&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach((t=>ha(e,t.id,n,r)))};function ya(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(e,t){return e.map((e=>{var t;const a=wa(e,n);if(a&&(r.push(e),o[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:i(e.subRows)}),a)return e})).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function wa(e,t){var n;return null!=(n=t[e.id])&&n}function Ca(e,t,n){if(e.subRows&&e.subRows.length){let n=!0,r=!1;return e.subRows.forEach((e=>{r&&!n||(wa(e,t)?r=!0:n=!1)})),n?"all":!!r&&"some"}return!1}const Sa=/([0-9]+)/gm;function xa(e,t){return e===t?0:e>t?1:-1}function Ia(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function Ea(e,t){const n=e.split(Sa).filter(Boolean),r=t.split(Sa).filter(Boolean);for(;n.length&&r.length;){const e=n.shift(),t=r.shift(),o=parseInt(e,10),i=parseInt(t,10),a=[o,i].sort();if(isNaN(a[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(a[1]))return isNaN(o)?-1:1;if(o>i)return 1;if(i>o)return-1}}return n.length-r.length}const Ra={alphanumeric:(e,t,n)=>Ea(Ia(e.getValue(n)).toLowerCase(),Ia(t.getValue(n)).toLowerCase()),alphanumericCaseSensitive:(e,t,n)=>Ea(Ia(e.getValue(n)),Ia(t.getValue(n))),text:(e,t,n)=>xa(Ia(e.getValue(n)).toLowerCase(),Ia(t.getValue(n)).toLowerCase()),textCaseSensitive:(e,t,n)=>xa(Ia(e.getValue(n)),Ia(t.getValue(n))),datetime:(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},basic:(e,t,n)=>xa(e.getValue(n),t.getValue(n))},Da=[Ki,{getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:$i("columnVisibility",e)}),createColumn:(e,t)=>({toggleVisibility:n=>{e.getCanHide()&&t.setColumnVisibility((t=>({...t,[e.id]:null!=n?n:!e.getIsVisible()})))},getIsVisible:()=>{var n,r;return null==(n=null==(r=t.getState().columnVisibility)?void 0:r[e.id])||n},getCanHide:()=>{var n,r;return(null==(n=e.columnDef.enableHiding)||n)&&(null==(r=t.options.enableHiding)||r)},getToggleVisibilityHandler:()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}}),createRow:(e,t)=>({_getAllVisibleCells:Xi((()=>[e.getAllCells(),t.getState().columnVisibility]),(e=>e.filter((e=>e.column.getIsVisible()))),{key:"row._getAllVisibleCells",debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}}),getVisibleCells:Xi((()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()]),((e,t,n)=>[...e,...t,...n]),{key:!1,debug:()=>{var e;return null!=(e=t.options.debugAll)?e:t.options.debugRows}})}),createTable:e=>{const t=(t,n)=>Xi((()=>[n(),n().filter((e=>e.getIsVisible())).map((e=>e.id)).join("_")]),(e=>e.filter((e=>null==e.getIsVisible?void 0:e.getIsVisible()))),{key:t,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}});return{getVisibleFlatColumns:t("getVisibleFlatColumns",(()=>e.getAllFlatColumns())),getVisibleLeafColumns:t("getVisibleLeafColumns",(()=>e.getAllLeafColumns())),getLeftVisibleLeafColumns:t("getLeftVisibleLeafColumns",(()=>e.getLeftLeafColumns())),getRightVisibleLeafColumns:t("getRightVisibleLeafColumns",(()=>e.getRightLeafColumns())),getCenterVisibleLeafColumns:t("getCenterVisibleLeafColumns",(()=>e.getCenterLeafColumns())),setColumnVisibility:t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),resetColumnVisibility:t=>{var n;e.setColumnVisibility(t?{}:null!=(n=e.initialState.columnVisibility)?n:{})},toggleAllColumnsVisible:t=>{var n;t=null!=(n=t)?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce(((e,n)=>({...e,[n.id]:t||!(null!=n.getCanHide&&n.getCanHide())})),{}))},getIsAllColumnsVisible:()=>!e.getAllLeafColumns().some((e=>!(null!=e.getIsVisible&&e.getIsVisible()))),getIsSomeColumnsVisible:()=>e.getAllLeafColumns().some((e=>null==e.getIsVisible?void 0:e.getIsVisible())),getToggleAllColumnsVisibilityHandler:()=>t=>{var n;e.toggleAllColumnsVisible(null==(n=t.target)?void 0:n.checked)}}}},{getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:$i("columnOrder",e)}),createTable:e=>({setColumnOrder:t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),resetColumnOrder:t=>{var n;e.setColumnOrder(t?[]:null!=(n=e.initialState.columnOrder)?n:[])},_getOrderColumnsFn:Xi((()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode]),((e,t,n)=>r=>{let o=[];if(null!=e&&e.length){const t=[...e],n=[...r];for(;n.length&&t.length;){const e=t.shift(),r=n.findIndex((t=>t.id===e));r>-1&&o.push(n.splice(r,1)[0])}o=[...o,...n]}else o=r;return function(e,t,n){if(null==t||!t.length||!n)return e;const r=e.filter((e=>!t.includes(e.id)));return"remove"===n?r:[...t.map((t=>e.find((e=>e.id===t)))).filter(Boolean),...r]}(o,t,n)}),{key:!1})})},va,{getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:$i("columnFilters",e),onGlobalFilterChange:$i("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n,r;const o=null==(n=e.getCoreRowModel().flatRows[0])||null==(r=n._getAllCellsByColumnId()[t.id])?void 0:r.getValue();return"string"==typeof o||"number"==typeof o}}),createColumn:(e,t)=>({getAutoFilterFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"string"==typeof r?ga.includesString:"number"==typeof r?ga.inNumberRange:"boolean"==typeof r||null!==r&&"object"==typeof r?ga.equals:Array.isArray(r)?ga.arrIncludes:ga.weakEquals},getFilterFn:()=>{var n,r;return qi(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(n=null==(r=t.options.filterFns)?void 0:r[e.columnDef.filterFn])?n:ga[e.columnDef.filterFn]},getCanFilter:()=>{var n,r,o;return(null==(n=e.columnDef.enableColumnFilter)||n)&&(null==(r=t.options.enableColumnFilters)||r)&&(null==(o=t.options.enableFilters)||o)&&!!e.accessorFn},getCanGlobalFilter:()=>{var n,r,o,i;return(null==(n=e.columnDef.enableGlobalFilter)||n)&&(null==(r=t.options.enableGlobalFilter)||r)&&(null==(o=t.options.enableFilters)||o)&&(null==(i=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||i)&&!!e.accessorFn},getIsFiltered:()=>e.getFilterIndex()>-1,getFilterValue:()=>{var n,r;return null==(n=t.getState().columnFilters)||null==(r=n.find((t=>t.id===e.id)))?void 0:r.value},getFilterIndex:()=>{var n,r;return null!=(n=null==(r=t.getState().columnFilters)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},setFilterValue:n=>{t.setColumnFilters((t=>{const r=e.getFilterFn(),o=null==t?void 0:t.find((t=>t.id===e.id)),i=Wi(n,o?o.value:void 0);var a;if(fa(r,i,e))return null!=(a=null==t?void 0:t.filter((t=>t.id!==e.id)))?a:[];const l={id:e.id,value:i};var s;return o?null!=(s=null==t?void 0:t.map((t=>t.id===e.id?l:t)))?s:[]:null!=t&&t.length?[...t,l]:[l]}))},_getFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),getFacetedRowModel:()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),_getFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),getFacetedUniqueValues:()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),getFacetedMinMaxValues:()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}),createRow:(e,t)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:e=>({getGlobalAutoFilterFn:()=>ga.includesString,getGlobalFilterFn:()=>{var t,n;const{globalFilterFn:r}=e.options;return qi(r)?r:"auto"===r?e.getGlobalAutoFilterFn():null!=(t=null==(n=e.options.filterFns)?void 0:n[r])?t:ga[r]},setColumnFilters:t=>{const n=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange((e=>{var r;return null==(r=Wi(t,e))?void 0:r.filter((e=>{const t=n.find((t=>t.id===e.id));return!t||!fa(t.getFilterFn(),e.value,t)}))}))},setGlobalFilter:t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},resetGlobalFilter:t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},resetColumnFilters:t=>{var n,r;e.setColumnFilters(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.columnFilters)?n:[])},getPreFilteredRowModel:()=>e.getCoreRowModel(),getFilteredRowModel:()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),_getGlobalFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),getGlobalFacetedRowModel:()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),getGlobalFacetedUniqueValues:()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}})},{getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:$i("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>({getAutoSortingFn:()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const t of n){const n=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(n))return Ra.datetime;if("string"==typeof n&&(r=!0,n.split(Sa).length>1))return Ra.alphanumeric}return r?Ra.text:Ra.basic},getAutoSortDir:()=>{const n=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==n?void 0:n.getValue(e.id))?"asc":"desc"},getSortingFn:()=>{var n,r;if(!e)throw new Error;return qi(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(n=null==(r=t.options.sortingFns)?void 0:r[e.columnDef.sortingFn])?n:Ra[e.columnDef.sortingFn]},toggleSorting:(n,r)=>{const o=e.getNextSortingOrder(),i=null!=n;t.setSorting((a=>{const l=null==a?void 0:a.find((t=>t.id===e.id)),s=null==a?void 0:a.findIndex((t=>t.id===e.id));let u,d=[],c=i?n:"desc"===o;var g;return u=null!=a&&a.length&&e.getCanMultiSort()&&r?l?"toggle":"add":null!=a&&a.length&&s!==a.length-1?"replace":l?"toggle":"replace","toggle"===u&&(i||o||(u="remove")),"add"===u?(d=[...a,{id:e.id,desc:c}],d.splice(0,d.length-(null!=(g=t.options.maxMultiSortColCount)?g:Number.MAX_SAFE_INTEGER))):d="toggle"===u?a.map((t=>t.id===e.id?{...t,desc:c}:t)):"remove"===u?a.filter((t=>t.id!==e.id)):[{id:e.id,desc:c}],d}))},getFirstSortDir:()=>{var n,r;return(null!=(n=null!=(r=e.columnDef.sortDescFirst)?r:t.options.sortDescFirst)?n:"desc"===e.getAutoSortDir())?"desc":"asc"},getNextSortingOrder:n=>{var r,o;const i=e.getFirstSortDir(),a=e.getIsSorted();return a?!!(a===i||null!=(r=t.options.enableSortingRemoval)&&!r||n&&null!=(o=t.options.enableMultiRemove)&&!o)&&("desc"===a?"asc":"desc"):i},getCanSort:()=>{var n,r;return(null==(n=e.columnDef.enableSorting)||n)&&(null==(r=t.options.enableSorting)||r)&&!!e.accessorFn},getCanMultiSort:()=>{var n,r;return null!=(n=null!=(r=e.columnDef.enableMultiSort)?r:t.options.enableMultiSort)?n:!!e.accessorFn},getIsSorted:()=>{var n;const r=null==(n=t.getState().sorting)?void 0:n.find((t=>t.id===e.id));return!!r&&(r.desc?"desc":"asc")},getSortIndex:()=>{var n,r;return null!=(n=null==(r=t.getState().sorting)?void 0:r.findIndex((t=>t.id===e.id)))?n:-1},clearSorting:()=>{t.setSorting((t=>null!=t&&t.length?t.filter((t=>t.id!==e.id)):[]))},getToggleSortingHandler:()=>{const n=e.getCanSort();return r=>{n&&(null==r.persist||r.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(r))))}}}),createTable:e=>({setSorting:t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),resetSorting:t=>{var n,r;e.setSorting(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.sorting)?n:[])},getPreSortedRowModel:()=>e.getGroupedRowModel(),getSortedRowModel:()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())})},{getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return null!=(t=null==(n=e.getValue())||null==n.toString?void 0:n.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:$i("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>({toggleGrouping:()=>{t.setGrouping((t=>null!=t&&t.includes(e.id)?t.filter((t=>t!==e.id)):[...null!=t?t:[],e.id]))},getCanGroup:()=>{var n,r,o,i;return null!=(n=null==(r=null!=(o=null==(i=e.columnDef.enableGrouping)||i)?o:t.options.enableGrouping)||r)?n:!!e.accessorFn},getIsGrouped:()=>{var n;return null==(n=t.getState().grouping)?void 0:n.includes(e.id)},getGroupedIndex:()=>{var n;return null==(n=t.getState().grouping)?void 0:n.indexOf(e.id)},getToggleGroupingHandler:()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},getAutoAggregationFn:()=>{const n=t.getCoreRowModel().flatRows[0],r=null==n?void 0:n.getValue(e.id);return"number"==typeof r?ma.sum:"[object Date]"===Object.prototype.toString.call(r)?ma.extent:void 0},getAggregationFn:()=>{var n,r;if(!e)throw new Error;return qi(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(n=null==(r=t.options.aggregationFns)?void 0:r[e.columnDef.aggregationFn])?n:ma[e.columnDef.aggregationFn]}}),createTable:e=>({setGrouping:t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),resetGrouping:t=>{var n,r;e.setGrouping(t?[]:null!=(n=null==(r=e.initialState)?void 0:r.grouping)?n:[])},getPreGroupedRowModel:()=>e.getFilteredRowModel(),getGroupedRowModel:()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())}),createRow:(e,t)=>({getIsGrouped:()=>!!e.groupingColumnId,getGroupingValue:n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return null!=r&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},_groupingValuesCache:{}}),createCell:(e,t,n,r)=>({getIsGrouped:()=>t.getIsGrouped()&&t.id===n.groupingColumnId,getIsPlaceholder:()=>!e.getIsGrouped()&&t.getIsGrouped(),getIsAggregated:()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=n.subRows)||!t.length)}})},na,{getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:$i("pagination",e)}),createTable:e=>{let t=!1,n=!1;return{_autoResetPageIndex:()=>{var r,o;if(t){if(null!=(r=null!=(o=e.options.autoResetAll)?o:e.options.autoResetPageIndex)?r:!e.options.manualPagination){if(n)return;n=!0,e._queue((()=>{e.resetPageIndex(),n=!1}))}}else e._queue((()=>{t=!0}))},setPagination:t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange((e=>Wi(t,e))),resetPagination:t=>{var n;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(n=e.initialState.pagination)?n:{pageIndex:0,pageSize:10})},setPageIndex:t=>{e.setPagination((n=>{let r=Wi(t,n.pageIndex);const o=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...n,pageIndex:r}}))},resetPageIndex:t=>{var n,r,o;e.setPageIndex(t?0:null!=(n=null==(r=e.initialState)||null==(o=r.pagination)?void 0:o.pageIndex)?n:0)},resetPageSize:t=>{var n,r,o;e.setPageSize(t?10:null!=(n=null==(r=e.initialState)||null==(o=r.pagination)?void 0:o.pageSize)?n:10)},setPageSize:t=>{e.setPagination((e=>{const n=Math.max(1,Wi(t,e.pageSize)),r=e.pageSize*e.pageIndex,o=Math.floor(r/n);return{...e,pageIndex:o,pageSize:n}}))},setPageCount:t=>e.setPagination((n=>{var r;let o=Wi(t,null!=(r=e.options.pageCount)?r:-1);return"number"==typeof o&&(o=Math.max(-1,o)),{...n,pageCount:o}})),getPageOptions:Xi((()=>[e.getPageCount()]),(e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map(((e,t)=>t))),t}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getCanPreviousPage:()=>e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:t}=e.getState().pagination,n=e.getPageCount();return-1===n||0!==n&&t<n-1},previousPage:()=>e.setPageIndex((e=>e-1)),nextPage:()=>e.setPageIndex((e=>e+1)),getPrePaginationRowModel:()=>e.getExpandedRowModel(),getPaginationRowModel:()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),getPageCount:()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}}},ba,Zi];function Oa(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:Da};const r=n._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(n))),{});let o={...null!=(t=e.initialState)?t:{}};n._features.forEach((e=>{var t;o=null!=(t=null==e.getInitialState?void 0:e.getInitialState(o))?t:o}));const i=[];let a=!1;const l={_features:Da,options:{...r,...e},initialState:o,_queue:e=>{i.push(e),a||(a=!0,Promise.resolve().then((()=>{for(;i.length;)i.shift()();a=!1})).catch((e=>setTimeout((()=>{throw e})))))},reset:()=>{n.setState(n.initialState)},setOptions:e=>{const t=Wi(e,n.options);n.options=(e=>n.options.mergeOptions?n.options.mergeOptions(r,e):{...r,...e})(t)},getState:()=>n.options.state,setState:e=>{null==n.options.onStateChange||n.options.onStateChange(e)},_getRowId:(e,t,r)=>{var o;return null!=(o=null==n.options.getRowId?void 0:n.options.getRowId(e,t,r))?o:`${r?[r.id,t].join("."):t}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:e=>{const t=n.getRowModel().rowsById[e];if(!t)throw new Error;return t},_getDefaultColumnDef:Xi((()=>[n.options.defaultColumn]),(e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,n;return null!=(t=null==(n=e.renderValue())||null==n.toString?void 0:n.toString())?t:null},...n._features.reduce(((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef())),{}),...e}}),{debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Xi((()=>[n._getColumnDefs()]),(e=>{const t=function(e,r,o){return void 0===o&&(o=0),e.map((e=>{const i=function(e,t,n,r){var o,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let s,u=null!=(o=null!=(i=a.id)?i:l?l.replace(".","_"):void 0)?o:"string"==typeof a.header?a.header:void 0;if(a.accessorFn?s=a.accessorFn:l&&(s=l.includes(".")?e=>{let t=e;for(const e of l.split(".")){var n;t=null==(n=t)?void 0:n[e]}return t}:e=>e[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:s,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Xi((()=>[!0]),(()=>{var e;return[d,...null==(e=d.columns)?void 0:e.flatMap((e=>e.getFlatColumns()))]}),{key:"column.getFlatColumns",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}}),getLeafColumns:Xi((()=>[e._getOrderColumnsFn()]),(e=>{var t;if(null!=(t=d.columns)&&t.length){let t=d.columns.flatMap((e=>e.getLeafColumns()));return e(t)}return[d]}),{key:"column.getLeafColumns",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugColumns}})};return d=e._features.reduce(((t,n)=>Object.assign(t,null==n.createColumn?void 0:n.createColumn(d,e))),d),d}(n,e,o,r),a=e;return i.columns=a.columns?t(a.columns,i,o+1):[],i}))};return t(e)}),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getAllFlatColumns:Xi((()=>[n.getAllColumns()]),(e=>e.flatMap((e=>e.getFlatColumns()))),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),_getAllFlatColumnsById:Xi((()=>[n.getAllFlatColumns()]),(e=>e.reduce(((e,t)=>(e[t.id]=t,e)),{})),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getAllLeafColumns:Xi((()=>[n.getAllColumns(),n._getOrderColumnsFn()]),((e,t)=>t(e.flatMap((e=>e.getLeafColumns())))),{key:!1,debug:()=>{var e;return null!=(e=n.options.debugAll)?e:n.options.debugColumns}}),getColumn:e=>n._getAllFlatColumnsById()[e]};return Object.assign(n,l),n._features.forEach((e=>Object.assign(n,null==e.createTable?void 0:e.createTable(n)))),n}const Aa=(e,t,n,r,o,i,a)=>{let l={id:t,index:r,original:n,depth:o,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(l._valuesCache.hasOwnProperty(t))return l._valuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?(l._valuesCache[t]=n.accessorFn(l.original,r),l._valuesCache[t]):void 0},getUniqueValues:t=>{if(l._uniqueValuesCache.hasOwnProperty(t))return l._uniqueValuesCache[t];const n=e.getColumn(t);return null!=n&&n.accessorFn?n.columnDef.getUniqueValues?(l._uniqueValuesCache[t]=n.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[t]):(l._uniqueValuesCache[t]=[l.getValue(t)],l._uniqueValuesCache[t]):void 0},renderValue:t=>{var n;return null!=(n=l.getValue(t))?n:e.options.renderFallbackValue},subRows:null!=i?i:[],getLeafRows:()=>function(e,t){const n=[],r=e=>{e.forEach((e=>{n.push(e);const o=t(e);null!=o&&o.length&&r(o)}))};return r(e),n}(l.subRows,(e=>e.subRows)),getParentRow:()=>l.parentId?e.getRow(l.parentId):void 0,getParentRows:()=>{let e=[],t=l;for(;;){const n=t.getParentRow();if(!n)break;e.push(n),t=n}return e.reverse()},getAllCells:Xi((()=>[e.getAllLeafColumns()]),(t=>t.map((t=>function(e,t,n,r){const o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:()=>{var t;return null!=(t=o.getValue())?t:e.options.renderFallbackValue},getContext:Xi((()=>[e,n,t,o]),((e,t,n,r)=>({table:e,column:t,row:n,cell:r,getValue:r.getValue,renderValue:r.renderValue})),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach((r=>{Object.assign(o,null==r.createCell?void 0:r.createCell(o,n,t,e))}),{}),o}(e,l,t,t.id)))),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugRows}}),_getAllCellsByColumnId:Xi((()=>[l.getAllCells()]),(e=>e.reduce(((e,t)=>(e[t.column.id]=t,e)),{})),{key:"row.getAllCellsByColumnId",debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugRows}})};for(let t=0;t<e._features.length;t++){const n=e._features[t];Object.assign(l,null==n||null==n.createRow?void 0:n.createRow(l,e))}return l};function Pa(e,t){return e?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?n.createElement(e,t):e:null;var r}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ma.apply(this,arguments)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}function Ba(e,t,n){var r,o,i=null!=(r=n.initialDeps)?r:[];return function(){var r;n.key&&null!=n.debug&&n.debug()&&(r=Date.now());var a,l=e();if(l.length===i.length&&!l.some((function(e,t){return i[t]!==e})))return o;if(i=l,n.key&&null!=n.debug&&n.debug()&&(a=Date.now()),o=t.apply(void 0,l),n.key&&null!=n.debug&&n.debug()){var s=Math.round(100*(Date.now()-r))/100,u=Math.round(100*(Date.now()-a))/100,d=u/16,c=function(e,t){for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c "+c(u,5)+" /"+c(s,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*d,120))+"deg 100% 31%);",null==n?void 0:n.key)}return null==n||null==n.onChange||n.onChange(o),o}}function Na(e,t){if(void 0===e)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Ta=function(e){return e},La=function(e){for(var t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[],o=t;o<=n;o++)r.push(o);return r},_a=function(e,t){var n=e.scrollElement;if(n){var r=function(e){var n=e.width,r=e.height;t({width:Math.round(n),height:Math.round(r)})};r(n.getBoundingClientRect());var o=new ResizeObserver((function(e){var t=e[0];if(null!=t&&t.borderBoxSize){var o=t.borderBoxSize[0];if(o)return void r({width:o.inlineSize,height:o.blockSize})}r(n.getBoundingClientRect())}));return o.observe(n,{box:"border-box"}),function(){o.unobserve(n)}}},ka=function(e,t){var n=e.scrollElement;if(n){var r=function(){t(n[e.options.horizontal?"scrollLeft":"scrollTop"])};return r(),n.addEventListener("scroll",r,{passive:!0}),function(){n.removeEventListener("scroll",r)}}},Ga=function(e,t,n){if(null!=t&&t.borderBoxSize){var r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},Va=function(e,t,n){var r,o,i=t.adjustments,a=void 0===i?0:i,l=t.behavior,s=e+a;null==(r=n.scrollElement)||null==r.scrollTo||r.scrollTo(((o={})[n.options.horizontal?"left":"top"]=s,o.behavior=l,o))},Ha=function(e){var t,n,r=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(t=null,n=function(){return t||("undefined"!=typeof ResizeObserver?t=new ResizeObserver((function(e){e.forEach((function(e){r._measureElement(e.target,e)}))})):null)},{disconnect:function(){var e;return null==(e=n())?void 0:e.disconnect()},observe:function(e){var t;return null==(t=n())?void 0:t.observe(e,{box:"border-box"})},unobserve:function(e){var t;return null==(t=n())?void 0:t.unobserve(e)}}),this.range={startIndex:0,endIndex:0},this.setOptions=function(e){Object.entries(e).forEach((function(t){var n=t[0];void 0===t[1]&&delete e[n]})),r.options=Fa({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ta,rangeExtractor:La,onChange:function(){},measureElement:Ga,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},e)},this.notify=function(){null==r.options.onChange||r.options.onChange(r)},this.cleanup=function(){r.unsubs.filter(Boolean).forEach((function(e){return e()})),r.unsubs=[],r.scrollElement=null},this._didMount=function(){return r.measureElementCache.forEach(r.observer.observe),function(){r.observer.disconnect(),r.cleanup()}},this._willUpdate=function(){var e=r.options.getScrollElement();r.scrollElement!==e&&(r.cleanup(),r.scrollElement=e,r._scrollToOffset(r.scrollOffset,{adjustments:void 0,behavior:void 0}),r.unsubs.push(r.options.observeElementRect(r,(function(e){var t=r.scrollRect;r.scrollRect=e,(r.options.horizontal?e.width!==t.width:e.height!==t.height)&&r.maybeNotify()}))),r.unsubs.push(r.options.observeElementOffset(r,(function(e){r.scrollAdjustments=0,r.scrollOffset!==e&&(null!==r.isScrollingTimeoutId&&(clearTimeout(r.isScrollingTimeoutId),r.isScrollingTimeoutId=null),r.isScrolling=!0,r.scrollDirection=r.scrollOffset<e?"forward":"backward",r.scrollOffset=e,r.maybeNotify(),r.isScrollingTimeoutId=setTimeout((function(){r.isScrollingTimeoutId=null,r.isScrolling=!1,r.scrollDirection=null,r.maybeNotify()}),r.options.scrollingDelay))}))))},this.getSize=function(){return r.scrollRect[r.options.horizontal?"width":"height"]},this.memoOptions=Ba((function(){return[r.options.count,r.options.paddingStart,r.options.scrollMargin,r.options.getItemKey]}),(function(e,t,n,o){return r.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:n,getItemKey:o}}),{key:!1}),this.getFurthestMeasurement=function(e,t){for(var n=new Map,o=new Map,i=t-1;i>=0;i--){var a=e[i];if(!n.has(a.lane)){var l=o.get(a.lane);if(null==l||a.end>l.end?o.set(a.lane,a):a.end<l.end&&n.set(a.lane,!0),n.size===r.options.lanes)break}}return o.size===r.options.lanes?Array.from(o.values()).sort((function(e,t){return e.end-t.end}))[0]:void 0},this.getMeasurements=Ba((function(){return[r.memoOptions(),r.itemSizeCache]}),(function(e,t){var n=e.count,o=e.paddingStart,i=e.scrollMargin,a=e.getItemKey,l=r.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,r.pendingMeasuredCacheIndexes):0;r.pendingMeasuredCacheIndexes=[];for(var s=r.measurementsCache.slice(0,l),u=l;u<n;u++){var d=a(u),c=1===r.options.lanes?s[u-1]:r.getFurthestMeasurement(s,u),g=c?c.end:o+i,p=t.get(d),f="number"==typeof p?p:r.options.estimateSize(u),m=g+f,v=c?c.lane:u%r.options.lanes;s[u]={index:u,start:g,size:f,end:m,key:d,lane:v}}return r.measurementsCache=s,s}),{key:!1,debug:function(){return r.options.debug}}),this.calculateRange=Ba((function(){return[r.getMeasurements(),r.getSize(),r.scrollOffset]}),(function(e,t,n){return r.range=function(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=ja(0,o,(function(e){return t[e].start}),r),a=i;a<o&&t[a].end<r+n;)a++;return{startIndex:i,endIndex:a}}({measurements:e,outerSize:t,scrollOffset:n})}),{key:!1,debug:function(){return r.options.debug}}),this.maybeNotify=Ba((function(){var e=r.calculateRange();return[e.startIndex,e.endIndex,r.isScrolling]}),(function(){r.notify()}),{key:!1,debug:function(){return r.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Ba((function(){return[r.options.rangeExtractor,r.calculateRange(),r.options.overscan,r.options.count]}),(function(e,t,n,r){return e(Fa({},t,{overscan:n,count:r}))}),{key:!1,debug:function(){return r.options.debug}}),this.indexFromElement=function(e){var t=r.options.indexAttribute,n=e.getAttribute(t);return n?parseInt(n,10):(console.warn("Missing attribute name '"+t+"={index}' on measured element."),-1)},this._measureElement=function(e,t){var n=r.measurementsCache[r.indexFromElement(e)];if(n){var o=r.measureElementCache.get(n.key);if(e.isConnected){o!==e&&(o&&r.observer.unobserve(o),r.observer.observe(e),r.measureElementCache.set(n.key,e));var i=r.options.measureElement(e,t,r);r.resizeItem(n,i)}else o&&(r.observer.unobserve(o),r.measureElementCache.delete(n.key))}else r.measureElementCache.forEach((function(t,n){t===e&&(r.observer.unobserve(e),r.measureElementCache.delete(n))}))},this.resizeItem=function(e,t){var n,o=t-(null!=(n=r.itemSizeCache.get(e.key))?n:e.size);0!==o&&(e.start<r.scrollOffset&&r._scrollToOffset(r.scrollOffset,{adjustments:r.scrollAdjustments+=o,behavior:void 0}),r.pendingMeasuredCacheIndexes.push(e.index),r.itemSizeCache=new Map(r.itemSizeCache.set(e.key,t)),r.notify())},this.measureElement=function(e){e&&r._measureElement(e,void 0)},this.getVirtualItems=Ba((function(){return[r.getIndexes(),r.getMeasurements()]}),(function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=t[e[r]];n.push(i)}return n}),{key:!1,debug:function(){return r.options.debug}}),this.getVirtualItemForOffset=function(e){var t=r.getMeasurements();return Na(t[ja(0,t.length-1,(function(e){return Na(t[e]).start}),e)])},this.getOffsetForAlignment=function(e,t){var n=r.getSize();"auto"===t&&(t=e<=r.scrollOffset?"start":e>=r.scrollOffset+n?"end":"start"),"start"===t||("end"===t?e-=n:"center"===t&&(e-=n/2));var o=r.options.horizontal?"scrollWidth":"scrollHeight",i=(r.scrollElement?"document"in r.scrollElement?r.scrollElement.document.documentElement[o]:r.scrollElement[o]:0)-r.getSize();return Math.max(Math.min(i,e),0)},this.getOffsetForIndex=function(e,t){void 0===t&&(t="auto"),e=Math.max(0,Math.min(e,r.options.count-1));var n=Na(r.getMeasurements()[e]);if("auto"===t)if(n.end>=r.scrollOffset+r.getSize()-r.options.scrollPaddingEnd)t="end";else{if(!(n.start<=r.scrollOffset+r.options.scrollPaddingStart))return[r.scrollOffset,t];t="start"}var o="end"===t?n.end+r.options.scrollPaddingEnd:n.start-r.options.scrollPaddingStart;return[r.getOffsetForAlignment(o,t),t]},this.isDynamicMode=function(){return r.measureElementCache.size>0},this.cancelScrollToIndex=function(){null!==r.scrollToIndexTimeoutId&&(clearTimeout(r.scrollToIndexTimeoutId),r.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(e,t){var n=void 0===t?{}:t,o=n.align,i=void 0===o?"start":o,a=n.behavior;r.cancelScrollToIndex(),"smooth"===a&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.getOffsetForAlignment(e,i),{adjustments:void 0,behavior:a})},this.scrollToIndex=function(e,t){var n=void 0===t?{}:t,o=n.align,i=void 0===o?"auto":o,a=n.behavior;e=Math.max(0,Math.min(e,r.options.count-1)),r.cancelScrollToIndex(),"smooth"===a&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var l=r.getOffsetForIndex(e,i),s=l[0],u=l[1];r._scrollToOffset(s,{adjustments:void 0,behavior:a}),"smooth"!==a&&r.isDynamicMode()&&(r.scrollToIndexTimeoutId=setTimeout((function(){var t,n;(r.scrollToIndexTimeoutId=null,r.measureElementCache.has(r.options.getItemKey(e)))?(t=r.getOffsetForIndex(e,u)[0],n=r.scrollOffset,Math.abs(t-n)<1||r.scrollToIndex(e,{align:u,behavior:a})):r.scrollToIndex(e,{align:u,behavior:a})})))},this.scrollBy=function(e,t){var n=(void 0===t?{}:t).behavior;r.cancelScrollToIndex(),"smooth"===n&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.scrollOffset+e,{adjustments:void 0,behavior:n})},this.getTotalSize=function(){var e;return((null==(e=r.getMeasurements()[r.options.count-1])?void 0:e.end)||r.options.paddingStart)-r.options.scrollMargin+r.options.paddingEnd},this._scrollToOffset=function(e,t){var n=t.adjustments,o=t.behavior;r.options.scrollToFn(e,{behavior:o,adjustments:n},r)},this.measure=function(){r.itemSizeCache=new Map,r.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach((function(e){r.itemSizeCache.set(e.key,e.size)})),this.maybeNotify()},ja=function(e,t,n,r){for(;e<=t;){var o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else{if(!(i>r))return o;t=o-1}}return e>0?e-1:0},za="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;const Ua=e=>{const t=e.colors.emphasize(e.colors.background.primary,.03);return{table:yi.css`
      border-radius: ${e.shape.borderRadius()};
      width: 100%;

      td {
        padding: ${e.spacing(1)};
      }

      td,
      th {
        min-width: ${e.spacing(3)};
      }
    `,disableGrow:yi.css`
      width: 0;
    `,header:yi.css`
      position: sticky;
      background-color: ${e.colors.background.primary};
      box-shadow: 0 1px ${e.colors.border.weak};
    `,headerCell:yi.css`
      padding: ${e.spacing(1)};
    `,row:yi.css`
      border-bottom: 1px solid ${e.colors.border.weak};

      &:hover {
        background-color: ${t};
      }

      &:last-child {
        border-bottom: 0;
      }
    `,expandedRow:yi.css`
      border-bottom: none;
    `,expandedContentRow:yi.css`
      td {
        border-bottom: 1px solid ${e.colors.border.weak};
        position: relative;
        padding: ${e.spacing(2,2,2,5)};

        &:before {
          content: '';
          position: absolute;
          width: 1px;
          top: 0;
          left: 16px;
          bottom: ${e.spacing(2)};
          background: ${e.colors.border.medium};
        }
      }
    `,sortableHeader:yi.css`
      /* increases selector's specificity so that it always takes precedence over default styles  */
      && {
      }
    `,headerButton:yi.css`
      margin-left: ${e.spacing(.5)};
    `,filterContainer:yi.css`
      background-color: ${e.colors.background.primary};
      padding: ${e.spacing(1)};
    `,filterInput:yi.css`
      margin-top: ${e.spacing(.5)};
    `}},Wa=({column:e})=>{const t=(0,eo.useStyles2)(Ua),[o,i]=(0,n.useState)(!1),a=e.getFilterValue(),l=(0,n.useCallback)((()=>{i((e=>!e))}),[]),s=(0,n.useCallback)((t=>{e.setFilterValue(t.currentTarget.value)}),[e]);return"isFavorite"===e.columnDef.id?r().createElement(eo.Button,{variant:"secondary",fill:"text",size:"sm",onClick:()=>{e.setFilterValue(!a)},"data-testid":Eo},a?r().createElement(eo.Icon,{name:"favorite"}):r().createElement(eo.Icon,{name:"star"})):r().createElement(r().Fragment,null,r().createElement(eo.Button,{icon:"filter",fill:"text",onClick:l,size:"sm",className:t.headerButton,"data-testid":ho}),o&&r().createElement(eo.Input,{placeholder:"Search values",value:"string"==typeof a?a:"",onChange:s,className:t.filterInput,"data-testid":Ro}))},$a=({data:e,className:t,columns:o,getSubRows:i,showHeader:a=!0,firstSelectedRowRef:l,tableRef:s,topOffset:u=0,tableHeaderRef:d,scrollableContainerRef:c})=>{var g,p;const f=(0,eo.useStyles2)(Ua),[m,v]=(0,n.useState)(!0),[b,h]=(0,n.useState)([]),y=function(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=n.useState((()=>({current:Oa(t)}))),[o,i]=n.useState((()=>r.current.initialState));return r.current.setOptions((t=>({...t,...e,state:{...o,...e.state},onStateChange:t=>{i(t),null==e.onStateChange||e.onStateChange(t)}}))),r.current}({columns:o,data:e,autoResetExpanded:!1,enableSorting:!0,enableMultiSort:!1,getSubRows:i,getCoreRowModel:e=>Xi((()=>[e.options.data]),(t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(t,o,i){void 0===o&&(o=0);const a=[];for(let s=0;s<t.length;s++){const u=Aa(e,e._getRowId(t[s],s,i),t[s],s,o,void 0,null==i?void 0:i.id);var l;n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),e.options.getSubRows&&(u.originalSubRows=e.options.getSubRows(t[s],s),null!=(l=u.originalSubRows)&&l.length&&(u.subRows=r(u.originalSubRows,o+1,u)))}return a};return n.rows=r(t),n}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}}),getSortedRowModel:e=>Xi((()=>[e.getState().sorting,e.getPreSortedRowModel()]),((t,n)=>{if(!n.rows.length||null==t||!t.length)return n;const r=e.getState().sorting,o=[],i=r.filter((t=>{var n;return null==(n=e.getColumn(t.id))?void 0:n.getCanSort()})),a={};i.forEach((t=>{const n=e.getColumn(t.id);n&&(a[t.id]={sortUndefined:n.columnDef.sortUndefined,invertSorting:n.columnDef.invertSorting,sortingFn:n.getSortingFn()})}));const l=e=>{const t=[...e];return t.sort(((e,t)=>{for(let r=0;r<i.length;r+=1){var n;const o=i[r],l=a[o.id],s=null!=(n=null==o?void 0:o.desc)&&n;let u=0;if(l.sortUndefined){const n=void 0===e.getValue(o.id),r=void 0===t.getValue(o.id);(n||r)&&(u=n&&r?0:n?l.sortUndefined:-l.sortUndefined)}if(0===u&&(u=l.sortingFn(e,t,o.id)),0!==u)return s&&(u*=-1),l.invertSorting&&(u*=-1),u}return e.index-t.index})),t.forEach((e=>{var t;o.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=l(e.subRows))})),t};return{rows:l(n.rows),flatRows:o,rowsById:n.rowsById}}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}}),getExpandedRowModel:e=>Xi((()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows]),((e,t,n)=>!t.rows.length||!0!==e&&!Object.keys(null!=e?e:{}).length?t:n?function(e){const t=[],n=e=>{var r;t.push(e),null!=(r=e.subRows)&&r.length&&e.getIsExpanded()&&e.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}(t):t),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable}}),getFilteredRowModel:e=>Xi((()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter]),((t,n,r)=>{if(!t.rows.length||(null==n||!n.length)&&!r){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const o=[],i=[];(null!=n?n:[]).forEach((t=>{var n;const r=e.getColumn(t.id);if(!r)return;const i=r.getFilterFn();i&&o.push({id:t.id,filterFn:i,resolvedValue:null!=(n=null==i.resolveFilterValue?void 0:i.resolveFilterValue(t.value))?n:t.value})}));const a=n.map((e=>e.id)),l=e.getGlobalFilterFn(),s=e.getAllLeafColumns().filter((e=>e.getCanGlobalFilter()));let u,d;r&&l&&s.length&&(a.push("__global__"),s.forEach((e=>{var t;i.push({id:e.id,filterFn:l,resolvedValue:null!=(t=null==l.resolveFilterValue?void 0:l.resolveFilterValue(r))?t:r})})));for(let e=0;e<t.flatRows.length;e++){const n=t.flatRows[e];if(n.columnFilters={},o.length)for(let e=0;e<o.length;e++){u=o[e];const t=u.id;n.columnFilters[t]=u.filterFn(n,t,u.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))}if(i.length){for(let e=0;e<i.length;e++){d=i[e];const t=d.id;if(d.filterFn(n,t,d.resolvedValue,(e=>{n.columnFiltersMeta[t]=e}))){n.columnFilters.__global__=!0;break}}!0!==n.columnFilters.__global__&&(n.columnFilters.__global__=!1)}}return function(e,t,n){return n.options.filterFromLeafRows?function(e,t,n){var r;const o={},i=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,a=function(e,r){void 0===r&&(r=0);const l=[];for(let u=0;u<e.length;u++){var s;let d=e[u];const c=Aa(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(c.columnFilters=d.columnFilters,null!=(s=d.subRows)&&s.length&&r<i){if(c.subRows=a(d.subRows,r+1),d=c,t(d)&&!c.subRows.length){l.push(d),o[d.id]=d,o[u]=d;continue}if(t(d)||c.subRows.length){l.push(d),o[d.id]=d,o[u]=d;continue}}else d=c,t(d)&&(l.push(d),o[d.id]=d,o[u]=d)}return l};return{rows:a(e),flatRows:[],rowsById:o}}(e,t,n):function(e,t,n){var r;const o=[],i={},a=null!=(r=n.options.maxLeafRowFilterDepth)?r:100,l=function(e,r){void 0===r&&(r=0);const s=[];for(let d=0;d<e.length;d++){let c=e[d];if(t(c)){var u;if(null!=(u=c.subRows)&&u.length&&r<a){const e=Aa(n,c.id,c.original,c.index,c.depth,void 0,c.parentId);e.subRows=l(c.subRows,r+1),c=e}s.push(c),o.push(c),i[c.id]=c}}return s};return{rows:l(e),flatRows:o,rowsById:i}}(e,t,n)}(t.rows,(e=>{for(let t=0;t<a.length;t++)if(!1===e.columnFilters[a[t]])return!1;return!0}),e)}),{key:!1,debug:()=>{var t;return null!=(t=e.options.debugAll)?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}}),onColumnFiltersChange:h,enableExpanding:!0,onExpandedChange:v,initialState:{expanded:!0},state:{expanded:m,columnFilters:b}}),{rows:w}=y.getRowModel(),C=(S={getScrollElement:()=>c.current,count:w.length,estimateSize:()=>38,overscan:10},function(e){var t=n.useReducer((function(){return{}}),{})[1],r=Ma({},e,{onChange:function(n){t(),null==e.onChange||e.onChange(n)}}),o=n.useState((function(){return new Ha(r)}))[0];return o.setOptions(r),n.useEffect((function(){return o._didMount()}),[]),za((function(){return o._willUpdate()})),o}(Ma({observeElementRect:_a,observeElementOffset:ka,scrollToFn:Va},S)));var S;const x=C.getVirtualItems(),I=C.getTotalSize(),E=x.length>0&&(null==x||null===(g=x[0])||void 0===g?void 0:g.start)||0,R=x.length>0?I-((null==x||null===(p=x[x.length-1])||void 0===p?void 0:p.end)||0):0;let D=!1;return r().createElement("table",{className:(0,yi.cx)(f.table,t),ref:s},a&&r().createElement("thead",{"data-testid":Do,className:f.header,style:{top:u},ref:d},y.getHeaderGroups().map((e=>r().createElement("tr",{key:e.id},e.headers.map((e=>r().createElement("th",{key:e.id,className:(0,yi.cx)(f.headerCell,{[f.disableGrow]:!e.column.getCanResize(),[f.sortableHeader]:e.column.getCanSort()}),colSpan:e.colSpan},Pa(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&r().createElement(eo.Button,{icon:e.column.getIsSorted()?"asc"===e.column.getIsSorted()?"sort-amount-up":"sort-amount-down":"list-ul",fill:"text",onClick:e.column.getToggleSortingHandler(),size:"sm",className:f.headerButton,variant:e.column.getIsSorted()?"primary":"secondary","data-testid":yo,title:"Sort by status"}),e.column.getCanFilter()&&r().createElement(Wa,{column:e.column})))))))),r().createElement("tbody",null,E>0&&r().createElement("tr",null,r().createElement("td",{style:{height:`${E}px`}})),x.map((e=>{const t=w[e.index];let n;return t.original.selected&&!D&&(D=!0,n=l),r().createElement("tr",{key:t.id,className:(0,yi.cx)(f.row,t.getIsExpanded()&&f.expandedRow),ref:n,"data-testid":wo(t.id)},t.getVisibleCells().map((e=>r().createElement("td",{key:e.id},Pa(e.column.columnDef.cell,e.getContext())))))})),R>0&&r().createElement("tr",null,r().createElement("td",{style:{height:`${R}px`}}))))},qa=({data:e,options:t,width:o,height:i,eventBus:a})=>{var l,s,u,d;const[c,g]=(0,n.useState)(null===(s=t.groups)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.name),p=(0,n.useMemo)((()=>{var e,n;if((null===(e=t.groups)||void 0===e?void 0:e.length)&&c)return null===(n=t.groups.find((e=>e.name===c)))||void 0===n?void 0:n.items}),[t.groups,c]);(0,n.useEffect)((()=>{var e,n,r;(null===(e=t.groups)||void 0===e?void 0:e.some((e=>e.name===c)))||g(null===(r=t.groups)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.name)}),[c,t.groups]);const{tableData:f,columns:m,getSubRows:v}=(({data:e,options:t,eventBus:o,levels:i})=>{var a;const l=(0,eo.useTheme2)(),s=Pi(l),u=(null==i?void 0:i.length)?null===(a=i[i.length-1])||void 0===a?void 0:a.name:t.variable,{variable:d,getVariable:c}=Gi(o,u),g=ki(),p=Vi({data:e,status:t.status,name:t.name}),f=(0,n.useMemo)((()=>{if(!d)return[];const n=ii(d),r=i||[];if(r.length&&ri(d)){const o={},i=((e,t,n)=>{const r=t[t.length-1],o=e.series.find((e=>e.refId===r.source));if(!o)return null;const i=(e=>{const t=[];for(let n=0;n<e.length;n+=1){const r=e.fields.reduce(((e,t)=>si(li({},e),{[t.name]:t.values.get(n)})),{});t.push(r)}return t})(o);return di(i,t.map((({name:e})=>e)),n||((e,t)=>({value:e[t],label:e[t],selected:!1,showStatus:!1,selectable:!0})))})(e,r,((e,r,i)=>{const a=`${e[r]}`;let l=o[r];if(!l){const e=c(r);l=e,o[r]=e}const s=ri(l)?l.helpers.getOption(a):d.helpers.getOption(a);return ci({value:a,selected:(null==s?void 0:s.selected)||!1,variable:l,isFavorite:g.isAdded(r,a),name:r,label:(null==s?void 0:s.text)||a},{children:i,status:p(a),isSelectedAll:n,favoritesEnabled:t.favorites,groupSelection:t.groupSelection})}));if(i)return 1===r.length&&(null==d?void 0:d.multi)&&(null==d?void 0:d.includeAll)?[ci({value:Ko,selected:n,variable:c(r[0].name),isFavorite:!1,name:r[0].name,label:Yo},{status:p(Yo),isSelectedAll:n,favoritesEnabled:t.favorites,groupSelection:t.groupSelection})].concat(i):i}return ri(d)?d.options.map((e=>ci({value:e.value,selected:e.selected,variable:d,isFavorite:g.isAdded(d.name,e.value),label:e.text},{status:p(e.value===Ko?Yo:e.value),isSelectedAll:n,favoritesEnabled:t.favorites,groupSelection:t.groupSelection}))):d.type===Zr.TEXTBOX?[ci({value:(null===(o=d.current.value)||void 0===o?void 0:o.toString())||"",label:(null===(a=d.current.text)||void 0===a?void 0:a.toString())||"",selected:!1,variable:d,isFavorite:!1,name:null==d?void 0:d.name},{status:p(""),isSelectedAll:n,favoritesEnabled:t.favorites,groupSelection:t.groupSelection})]:[];var o,a}),[d,i,e,c,g,p,t.favorites,t.groupSelection]),m=(0,n.useCallback)((e=>{const t=e.childValues||[e.value],n=gi(f,t);pi(n).filter((e=>e.variable!==d&&e.selectable)).map((e=>({variable:e.variable,values:e.values.filter((t=>{var n;return ri(e.variable)?null===(n=e.variable)||void 0===n?void 0:n.options.some((e=>e.text===t&&!e.selected)):t}))}))).filter((e=>e.values.length>0)).forEach((({variable:e,values:t})=>{ni(t,e)})),ni(t,d)}),[d,f]),v=(0,n.useCallback)((e=>{var t;e.selected&&ri(e.variable)&&!(null===(t=e.variable)||void 0===t?void 0:t.multi)&&e.variable===d&&m(e)}),[m,d]),b=(0,n.useMemo)((()=>{const e=`${(null==d?void 0:d.name)||u}`,n=[{id:"value",accessorKey:"value",header:({table:n})=>{const o=!!d&&ii(d);return r().createElement(r().Fragment,null,t.groupSelection&&r().createElement("input",{type:"checkbox",onChange:()=>{const e={childValues:ui(f,(e=>e.childValues||e.value),[]),selected:o,value:"",showStatus:!1,label:""};m(e)},checked:o,className:s.selectControl,id:`${e}-select-all`,"data-testid":xo,title:"Select all"}),n.getCanSomeRowsExpand()&&r().createElement(eo.Button,{className:s.expandButton,onClick:n.getToggleAllRowsExpandedHandler(),variant:"secondary",fill:"text",size:"sm",icon:n.getIsAllRowsExpanded()?"angle-double-down":"angle-double-right","data-testid":bo}),(null==d?void 0:d.label)||u)},enableColumnFilter:t.filter,filterFn:fi,enableSorting:t.statusSort,sortingFn:mi,cell:({row:n,getValue:o})=>{const i=n.original.label||o();return r().createElement("div",{className:s.rowContent,style:{paddingLeft:l.spacing(1.5*n.depth)},"data-testid":Co(i,n.depth)},n.original.selectable&&r().createElement("input",{type:ri(d)?(null==d?void 0:d.multi)?"checkbox":"radio":"text",onChange:()=>m(n.original),onClick:()=>v(n.original),checked:n.original.selected,className:s.selectControl,id:`${e}-${n.original.value}`,"data-testid":So}),n.getCanExpand()&&r().createElement(eo.Button,{className:s.expandButton,onClick:n.getToggleExpandedHandler(),variant:"secondary",fill:"text",size:"sm",icon:n.getIsExpanded()?"angle-down":"angle-right","data-testid":vo}),ri(d)&&r().createElement("label",{onClick:()=>{n.original.selectable&&m(n.original)},"data-testid":Oo,className:s.label},n.original.showStatus&&r().createElement("span",{className:s.status,style:{backgroundColor:n.original.statusColor}}),r().createElement("span",{style:{fontWeight:n.original.selected?l.typography.fontWeightBold:l.typography.fontWeightRegular}},t.showName&&n.original.name?`${n.original.name}: `:"",i)),(null==d?void 0:d.type)===Zr.TEXTBOX&&r().createElement(Mi,{variable:d}))}}];return t.favorites&&n.push({id:"isFavorite",accessorKey:"isFavorite",enableColumnFilter:!0,enableResizing:!1,enableSorting:!1,header:"",filterFn:vi,cell:({row:e,getValue:t})=>{const n=t();return e.original.canBeFavorite?r().createElement(eo.Button,{variant:"secondary",fill:"text",size:"sm",onClick:()=>{var t,r;n?g.remove(null===(t=e.original.variable)||void 0===t?void 0:t.name,e.original.value):g.add(null===(r=e.original.variable)||void 0===r?void 0:r.name,e.original.value)},"data-testid":Io},n?r().createElement(eo.Icon,{name:"favorite"}):r().createElement(eo.Icon,{name:"star"})):null}}),n}),[d,u,t.filter,t.statusSort,t.favorites,t.groupSelection,t.showName,f,s.selectControl,s.expandButton,s.rowContent,s.label,s.status,m,v,l,g]),h=(0,n.useCallback)((e=>e.children),[]);return{tableData:f,columns:b,getSubRows:h}})({data:e,options:t,eventBus:a,levels:p}),{containerRef:b,style:h}=(({width:e,height:t,sticky:r})=>{const o=(0,n.useRef)(null),[i,a]=(0,n.useState)({position:"absolute",overflow:"auto",width:e,height:t});return(0,n.useLayoutEffect)((()=>{const n=document.querySelector(".main-view .scrollbar-view"),i=()=>{if(o.current&&n){if(r){const{y:t,height:r}=o.current.getBoundingClientRect(),i=n.getBoundingClientRect(),l=Math.abs(Math.min(t-i.top,0)),s=i.height-t+i.top;return void a({width:e,height:Math.min(Math.max(r-l,0),s),transform:`translateY(${l}px)`})}a({width:e,height:t})}};return i(),n&&r?(n.addEventListener("scroll",i),()=>{n.removeEventListener("scroll",i)}):()=>{}}),[o,e,t,r]),{containerRef:o,style:i}})({width:o,height:i,sticky:t.sticky}),{containerRef:y,tableRef:w,headerRef:C,tableTopOffset:S,tableHeaderRef:x,tableContentTopOffset:I}=(({tableData:e,height:t,options:r})=>{const o=(0,n.useRef)(null),i=(0,n.useRef)(null),a=(0,n.useRef)(null),l=(0,n.useRef)(null),[s,u]=(0,n.useState)(0),[d,c]=(0,n.useState)(0);return(0,n.useEffect)((()=>{if(o.current){let e=0;i.current&&(e+=i.current.clientHeight),u(e)}}),[e,t,r.groups]),(0,n.useEffect)((()=>{if(o.current){let e=s;l.current&&(e+=l.current.clientHeight),c(e)}}),[e,s,r.header,r.filter]),{containerRef:o,headerRef:i,tableRef:a,tableHeaderRef:l,tableTopOffset:s,tableContentTopOffset:d}})({height:i,options:t,tableData:f}),E=(0,n.useRef)(null),R=(({containerRef:e})=>(0,n.useCallback)(((t,n=0)=>{if(e.current){const{top:r}=e.current.getBoundingClientRect(),{top:o}=t.getBoundingClientRect(),i=o+e.current.scrollTop-r,a=i-n;e.current.scrollTo({top:a>=0?a:i})}}),[e]))({containerRef:y}),D=(0,n.useRef)(!1);(0,n.useEffect)((()=>{b.current&&E.current&&t.autoScroll&&R(E.current,I)}),[R,b,c,E,t.autoScroll,I]),(0,n.useEffect)((()=>{b.current&&E.current&&t.autoScroll&&f&&!D.current&&R(E.current,I)}),[R,b,E,t.autoScroll,f,I]);const O=(0,eo.useTheme2)(),A=Pi(O);return r().createElement(eo.ClickOutsideWrapper,{onClick:()=>{D.current&&(D.current=!1)},useCapture:!0},r().createElement("div",{"data-testid":fo,className:(0,yi.cx)(A.wrapper,yi.css`
            width: ${o}px;
            height: ${i}px;
          `),ref:b,onMouseDown:()=>{D.current=!0}},!f.length&&r().createElement(eo.Alert,{"data-testid":po,severity:"info",title:"Variable"},"Variable is not selected or do not match returned fields."),r().createElement("div",{style:h,className:A.content,ref:y,"data-testid":go},(null===(u=t.groups)||void 0===u?void 0:u.length)>1&&r().createElement("div",{ref:C,className:A.header},r().createElement(eo.TabsBar,null,null===(d=t.groups)||void 0===d?void 0:d.map((e=>r().createElement(eo.Tab,{key:e.name,label:e.name,onChangeTab:()=>g(e.name),active:c===e.name,"data-testid":mo(e.name)}))))),r().createElement($a,{columns:m,data:f,getSubRows:v,showHeader:t.header,firstSelectedRowRef:E,tableRef:w,tableHeaderRef:x,topOffset:S,scrollableContainerRef:y}))))};function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xa(e,t,n[t])}))}return e}const Ka=new e.PanelPlugin((e=>{var{options:t}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["options"]);return t.displayMode===Qr.MINIMIZE?r().createElement(Ui,Ya({options:t},n)):t.displayMode===Qr.BUTTON?r().createElement(ji,Ya({options:t},n)):r().createElement(qa,Ya({options:t},n))})).setNoPadding().useFieldConfig({disableStandardOptions:[e.FieldConfigProperty.Unit,e.FieldConfigProperty.Color,e.FieldConfigProperty.Min,e.FieldConfigProperty.Max,e.FieldConfigProperty.Decimals,e.FieldConfigProperty.DisplayName,e.FieldConfigProperty.NoValue,e.FieldConfigProperty.Links,e.FieldConfigProperty.Mappings]}).setPanelOptions((n=>{const r=(0,t.getTemplateSrv)().getVariables().map((e=>({label:e.name,value:e.name}))),o=e=>e.displayMode===Qr.MINIMIZE,i=e=>e.displayMode===Qr.BUTTON,a=e=>e.displayMode===Qr.TABLE;return n.addRadio({path:"displayMode",name:"Display mode",settings:{options:to},defaultValue:Qr.TABLE}),n.addSliderInput({path:"padding",name:"Padding",defaultValue:10,settings:{min:0,max:20},showIf:e=>o(e)||i(e)}).addRadio({path:"emptyValue",name:"Empty Value",description:"Allow Empty Value for multi-choice variable.",defaultValue:!1,settings:{options:co},showIf:e=>o(e)||i(e)}),n.addRadio({path:"sticky",name:"Sticky position",description:"Variables will follow when scrolling.",settings:{options:ro},defaultValue:!1,showIf:a}).addRadio({path:"autoScroll",name:"Auto Scroll to the selected value",settings:{options:so},defaultValue:!1,showIf:a}),n.addRadio({path:"header",name:"Header",settings:{options:no},category:["Header"],defaultValue:!0,showIf:a}).addRadio({path:"filter",name:"Values filtering",settings:{options:oo},defaultValue:!1,category:["Header"],showIf:e=>a(e)&&e.header}).addRadio({path:"favorites",name:"Select favorites",description:"Saved in the browser storage for each user.",settings:{options:io},defaultValue:!1,category:["Header"],showIf:e=>a(e)&&e.header}).addRadio({path:"statusSort",name:"Sort by status",settings:{options:ao},defaultValue:!1,category:["Header"],showIf:e=>a(e)&&e.header}),n.addSelect({path:"variable",name:"Select variable to display",settings:{options:r},category:["Layout"],showIf:e=>{var t;return o(e)||!(null===(t=e.groups)||void 0===t?void 0:t.length)}}).addCustomEditor({id:"groups",path:"groups",name:"Tree View based on data source query",editor:Ai,category:["Layout"],showIf:a}).addRadio({path:"showName",name:"Display variable names",settings:{options:lo},defaultValue:!1,category:["Layout"],showIf:e=>{var t;return a(e)&&!!(null===(t=e.groups)||void 0===t?void 0:t.length)}}).addRadio({path:"groupSelection",name:"Allow group selection.",settings:{options:uo},defaultValue:!1,category:["Layout"],showIf:e=>{var t;return a(e)&&!!(null===(t=e.groups)||void 0===t?void 0:t.length)}}),n.addFieldNamePicker({path:"name",name:"Field with variable values. First string field will be used if not specified.",settings:{filter:t=>t.type===e.FieldType.string,noFieldsMessage:"No strings fields found"},category:["Status"],showIf:e=>a(e)||i(e)}).addFieldNamePicker({path:"status",name:"Field with status values. First number field will be used if not specified.",settings:{filter:t=>t.type===e.FieldType.number,noFieldsMessage:"No number fields found"},category:["Status"],showIf:e=>a(e)||i(e)}),n}))})(),c})()));
//# sourceMappingURL=module.js.map